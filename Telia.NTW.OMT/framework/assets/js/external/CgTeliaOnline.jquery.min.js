/* https://wds-tsscc.ccs.teliasonera.com/Jm7KjqJs/CgTeliaOnline.jquery.min.js (prod) - 2014-06-26 09:44 */


/*
* hostname: The hostname of the cob enabled website.
* port:     The port of the cob enabled website
* protocol: Required in order to decide if the link is internal to the website
* baseUrl:  Url base for dynamic loading of script components.
* cobEngineHttpList: The url to a webservice returning the available COB engines in the system.
* cobEngineHttpsList: The url to a webservice returning the available COB engines in the system using SSL.
* cobWssPort: The port used for ssl communication.
* cobWsPort: The port used for non-ssl communication.
* languages: The languages supported by the customer website
* defaultLanguage: The language to be used if the language detection fails
* sessionTime: Lifespan for a session in the client.
* engineCacheTTL: Lifespan for local cache of COB-engines.
* centeredSite:  determines how coordinate translation is done. If margins are to be added or not.
* proxyType: Proxy configuration, value "tunnel" for tunneling.
* domain: Domain for saving cookies. Will determine domain for which a session is valid.
* agentDomain: Domain for saving links in Macrobar.
* frameBorderStyle: Css style for marking an iframe for the agent.
* hoverElements: A list of elements to specifically transfer the computed style for.
*/

var COB_CONFIG= {
/* Properties used to determine if a url is external or not*/
"hostname":"telia.se",
"port":"443",
/* Url base for dynamic loading of script components*/
"baseUrl": "https://wds-tsscc.ccs.teliasonera.com/Jm7KjqJs/CoBrowsing",
/* List of CallGuide Cobrowsing Engines available*/
"cobEngineHttpList":[{url:"cob-tsscc.ccs.teliasonera.com:8447"}],
"cobEngineHttpsList":[{url:"cob-tsscc.ccs.teliasonera.com:8447"}],
/* Ports to a CallGuide Cobrowsing Engine*/
"cobWssPort":"8447",
"cobWsPort":"80",
"languages":{
/*  "en":"1",*/
  "sv":"1"},
"defaultLanguage":"sv",
/* true if the website uses a center design */
"sessionTime":"30",
"engineCacheTTL":"10080",
"centeredSite": true,
/* domain: Domain for saving cookies. Will determine domain for which a session is valid.*/
"agentDomain":"cob-tsscc.ccs.teliasonera.com",
/* domain: Domain for saving cookies. Will determine domain for which a session is valid.*/
"domain":"telia.se",
/* protocol: Required in order to decide if the link is internal to the website */
"protocol":"https",
/* proxyType: Proxy configuration, value "tunnel" for tunneling. */
"proxyType":"tunnel", 
"frameBorderStyle":"border: 2px green dashed;",
"chatFloatingFrameUrl": "http://www.telia.se/chat/chat.html"
};

function cobCustomInit(){

    COB_USER.setStateTimeout = function () {
        if(COB_DRIVER.getCookie('cob_accept') === '2'){
            return;
        }
        COB.state = 'timeout';
        COB.WS.state = 'timeout';
        COB.WS.ws.close();
 
        // User stop action
        COB_USER.handleTimeout();
    };
 
}



/**/

var state=-1,COB={state:"start",config:{sessionTime:60},version:function(){var a,b="$Revision: 8330 $:",c=b.indexOf(" ");if(c>0){var d=b.indexOf(" ",c+1);d>0&&(a=b.substr(c+1,d-c-1))}return"8.4.4."+a},WS:{session:"",ws:{},connect:function(a){if(0===a.key)return COB.LOG.debug("Aborting - no session key"),void 0;if(COB.LOG.debug("Connect will resume - got key: "+a.key.length),COB.LOG.debug("Storing session = "+a.key),COB.WS.session=a,"user"===a.type){if(a.accept===COB_USER.SESS_VALIDATED||a.accept===COB_USER.SESS_NEW)return COB.LOG.debug("Will not connect - waiting for contact creation: "+a.accept),void 0;COB.LOG.debug("Will connect - contact creation in progress or in cobrowsing: "+a.accept);var b=location.protocol.match(/http:/);b&&COB.LOG.debug("Http is beeing used: "+COB.HtmlUtils.transformToSslLink(location.href,location.hostname,location.pathname)),b&&(location.href=COB.HtmlUtils.transformToSslLink(location.href,location.hostname,location.pathname))}COB.LOG.info("Connecting to COB engine as - "+a.type);var c=a.cobUrl;"user"===a.type&&(c="wss://"+a.cobUrl+"/ws/cob.yaws?method=run&key="+a.key),COB.LOG.info("Connecting to COBs with this url: "+c+" ("+a.type+")"),COB.WS.ws=new WebSocket(c),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onmessage=this.onmessage},send:function(a){var b=JSON.stringify(a);"open"===COB.WS.state?"user"===COB.WS.session.type?COB_USER.session.accept===COB_USER.SESS_ACCEPTED?this.ws.send(b):COB_USER.session.accept===COB_USER.SESS_CONTACT_INITIATED&&"touch"===a.type?this.ws.send(b):COB.LOG.trace("Socket open, user not accepted. Type: "+a.type):this.ws.send(b):COB.LOG.trace("Socket not open, discarding message")},onopen:function(){COB.LOG.debug("on open ws = "+COB.WS.ws),"agent"!==COB.WS.session.type&&COB.State.val===COB.State.STATE_DOWN_IN_INIT&&COB.State.setState(COB.State.STATE_IN_INIT),COB.WS.state="open","agent"!==COB.WS.session.type?(COB.LOG.debug("Connection opened: RegisterClient "+COB.WS.session.key),COB.LOG.debug("Websocket - "+COB.WS.ws.readyState),COB.WS.ws.send("RegisterVersion "+COB.WS.session.key+" "+COB.version()),COB.LOG.debug("RegisterVersion "+COB.WS.session.key+" "+COB.version()),COB.WS.ws.send("RegisterBrowser "+COB.WS.session.key+" "+COB.BrowserDetect.versionStr()),COB.LOG.debug("RegisterBrowser "+COB.WS.session.key+" "+COB.BrowserDetect.versionStr()),COB.WS.ws.send("RegisterClient "+COB.WS.session.key+" "+COB.WS.session.privateKey),COB.LOG.info("Touching "+COB.WS.session.key),COB.touch()):(COB.LOG.debug("Connection opened: RegisterHost "+COB.WS.session.key),COB.WS.ws.send("RegisterHost "+COB.WS.session.key))},onclose:function(){COB.LOG.debug("Server closed connection - state: "+COB.WS.state),COB.LOG.debug("Server closed connection - COB.State: "+COB.State.val),COB.State.val!==COB.State.STATE_TERMINATED&&(COB.State.val===COB.State.STATE_COB&&COB.State.setState(COB.State.STATE_DOWN),"agent"===COB.WS.session.type||COB.WS.session.accept!==COB_USER.SESS_CONTACT_INITIATED&&COB.WS.session.accept!==COB_USER.SESS_STOPPED||COB.State.setState(COB.State.STATE_DOWN_IN_INIT),"engineValidation"!==COB.WS.state&&(COB.WS.state="closed"),"agent"===COB.WS.session.type&&COB.State.val!==COB.State.STATE_STOPPED&&COB.State.setState(COB.State.STATE_DOWN))},onmessage:function(a){COB.LOG.trace("Got a message..."),COB.LOG.trace("message content...: "+a.data);var b;COB.isJsonStr(a.data)?(b=JSON.parse(a.data),"undefined"===b.type?(COB.LOG.debug("Setting invalid - no type"),b.type="invalid"):COB.LOG.trace("Message type = "+b.type)):(COB.LOG.debug("Setting invalid "),b={type:"invalid",data:a.data}),"user"===COB.WS.session.type?COB_USER.handleMessage(b):COB_AGENT.handleMessage(b)}},lang:"",setupLanguage:function(){"use strict";var a=COB_DRIVER.getCookie("cob_lang"),b="";if(null===a){if("undefined"==typeof COB_BROWSERLANG)return;if("undefined"!=typeof LANGUAGE?"1"===COB.config.languages[LANGUAGE]?(COB.LOG.debug("Using language provide by site,("+LANGUAGE+")"),b=LANGUAGE):COB.LOG.debug("Site language,("+LANGUAGE+"), not among configurated languages"):COB.LOG.debug("No language provided by site"),0===b.length){var c=COB_BROWSERLANG.lang.toLowerCase(),d=c.substr(0,2);"1"===COB.config.languages[d]?(COB.LOG.debug("Using language provided by navigator,("+d+")"),b=d):COB.LOG.debug("Language provided by browser,("+d+"), not among configurated languages defaulting to "+COB.config.defaultLanguage)}0===b.length&&(b=COB.config.defaultLanguage),COB.LOG.info("Language negotiation completed. Languege to be used is: "+b),COB_DRIVER.setCookie("cob_lang",b,COB.config.sessionTime,COB.config.domain),COB.lang=b}else COB.lang=a},init:function(a){"use strict";if(this.cobSupported()){this.setupArrays(),this.setupLanguage();var b=COB_DRIVER.getUrlParam("cob_debug");this.LOG.level=this.LOG.LEVEL.ERROR,"trace"===b&&(this.LOG.level=this.LOG.LEVEL.TRACE),"debug"===b&&(this.LOG.level=this.LOG.LEVEL.DEBUG),"info"===b&&(this.LOG.level=this.LOG.LEVEL.INFO),"local"===b&&(this.LOG.level=this.LOG.LEVEL.LOCAL),COB.LOG.info("CallGuide COB Client version: "+COB.version()),COB.LOG.info("$Revision: 8330 $:"),COB.LOG.info("Logging started. Will only log for severity: "+this.LOG.level.description),this.LOG.debug("Cookie uid = "+COB_DRIVER.getCookie("uid")),this.WS.connect(a)}},setupArrays:function(){function a(a,b){return this.slice(a,b)}function b(a,b){arguments.length<2&&(b=0);for(var c=0,d=a.length;d>c;++c,++b)this[b]=255&a[c]}function c(c){var d;if("number"==typeof c){d=new Array(c);for(var e=0;c>e;++e)d[e]=0}else d=c.slice(0);return d.subarray=a,d.buffer=d,d.byteLength=d.length,d.set=b,"object"==typeof c&&c.buffer&&(d.buffer=c.buffer),d}try{{new Uint8Array(1)}return}catch(d){}window.Uint8Array=c,window.Uint32Array=c,window.Int32Array=c},isJsonStr:function(a){return"{"===a[0]},stopCoBrowsing:function(){COB.State.val!==COB.State.STATE_DOWN&&("agent"!==COB.WS.session.type?(COB.LOG.info("Stopping co browsing per request from human master: UnRegisterClient "+COB.WS.session.key),COB.WS.ws.send("UnRegisterClient "+COB.WS.session.key)):(COB.LOG.info("Stopping co browsing per request from human master: UnRegisterHost "+COB.WS.session.key),COB.WS.ws.send("UnRegisterHost "+COB.WS.session.key)),COB.State.setState(COB.State.STATE_TERMINATED))},getDocSizeAttr:function(){return{clientWidth:document.documentElement.clientWidth,scrollWidth:document.documentElement.scrollWidth}},translateCoord:function(a){var b,c={x:0,y:0},d=COB.getDocSizeAttr(),e=d.clientWidth,f=d.scrollWidth;if(COB.config.centeredSite){if("agent"===COB.WS.session.type){var g=jQuery("#mirror").contents().width();b=Math.min(g,d.clientWidth),f=g,e=d.clientWidth}else e=d.clientWidth,f=d.scrollWidth,b=d.clientWidth;var h=e>=f,i=COB.remoteClientWidth-COB.remoteDocumentWidth>=0;if(COB.LOG.info("##### ##### ##### ##### ##### ##### ##### ##### ooooo"),COB.LOG.info("This margins = "+h+" remote margins= "+i),COB.LOG.info("container width = "+e+" document width= "+d.scrollWidth+" client width:"+b),COB.LOG.info("COB.remoteClientWidth:"+COB.remoteClientWidth+" COB.remoteDocumentWidth:"+COB.remoteDocumentWidth),i)if(h)c.x=b/2+a.x-COB.remoteClientWidth/2;else{var j=COB.remoteClientWidth/2-a.x;c.x=f/2-j}else if(h){var k=(b-COB.remoteDocumentWidth)/2;c.x=a.x+k}else c.x=a.x}else c.x=a.x;return c.y=a.y,COB.LOG.trace("("+a.x+","+a.y+") => ("+c.x+","+c.y+")"),c},touch:function(){var a={type:"touch",key:""};a.key=COB.WS.session.key,COB.WS.send(a)},reconnectTimeoutHandel:-1,reconnect:function(){COB.LOG.debug("In COB.reconnect - state = "+COB.State.val),COB.State.val!==COB.State.STATE_TERMINATED&&("closed"===COB.WS.state||"engineValidation"===COB.WS.state)&&(COB.LOG.info("Trying to reconnect: "+COB.WS.state),"engineValidation"===COB.WS.state&&COB_USER.fetchNewEngine(),COB.WS.connect(COB.WS.session),COB.reconnectTimeoutHandel>0&&clearTimeout(COB.reconnectTimeoutHandel),COB.reconnectTimeoutHandel=setTimeout("COB.reconnect()",1e3))},setStateTimeout:function(){COB_DRIVER.removeClass("cob_stop_button","cob_style_orange"),COB_DRIVER.addClass("cob_stop_button","cob_style_gray"),COB_DRIVER.setStopMessage(COB.getStr("coBrowsingPause"))},setStateInProg:function(){COB_DRIVER.removeClass("cob_stop_button","cob_style_gray"),COB_DRIVER.addClass("cob_stop_button","cob_style_orange"),COB_DRIVER.setStopMessage(COB.getStr("stopSharing"))},cobSupported:function(){COB.BrowserDetect.init();var a=!1;switch(COB.BrowserDetect.browser){case"Chrome":COB.BrowserDetect.version>=14&&(a=!0);break;case"Firefox":COB.BrowserDetect.version>=6&&(a=!0);break;case"Explorer":COB.BrowserDetect.version>=10&&(a=!0);break;case"Opera":COB.BrowserDetect.version>=13&&(a=!0);break;case"Safari":COB.BrowserDetect.version>=6&&(a=!0)}return a="undefined"!=typeof WebSocket},getStr:function(a){return""===COB.lang?COB.strings.en[a]:COB.strings[COB.lang][a]}};COB.State={STATE_START:0,STATE_IN_INIT:6,STATE_DOWN_IN_INIT:7,STATE_DOWN:1,STATE_TIMEOUT:2,STATE_TERMINATED:3,STATE_STOPPED:4,STATE_COB:5,val:this.STATE_START,setState:function(a){var b;switch(b="user"===COB.WS.session.type?COB_USER:COB_AGENT,this.val=a,a){case this.STATE_START:b.setStateStart();break;case this.STATE_DOWN:b.setStateDown();break;case this.STATE_TIMEOUT:b.setStateTimeout();break;case this.STATE_TERMINATED:b.setStateTerminated();break;case this.STATE_STOPPED:b.setStateStopped();break;case this.STATE_COB:b.setStateCob();break;case this.STATE_IN_INIT:b.setStateInInit();break;case this.STATE_DOWN_IN_INIT:b.setStateDownInInit()}}},COB.strings={en:{buttonAbort:"Cancel",buttonCancel:"No",buttonYes:"Yes",buttonNo:"No",buttonShare:"Yes",buttonStay:"Stay",closeLink:"Close",addLink:"Add new link",labelNewLink:"Name",labelUrl:"Url including http or https",buttonContinue:"Continue",startQuery:"Accept co-browsing?",agentRedirectQuery:"Are you sure you want to send the user away from the co browsing?",agentRedirectTitle:"Co-browsing will stop",userRedirectQuery:"You are about to be redirected to another page. Do you want to go on?",stopSharing:"Stop co-browsing",buttonDeleteLink:"Delete link",deleteLinkTitle:"Delete link",deleteLinkWarning:"Delete link",buttonOK:"OK",timoutWarningTitle:"Co-browsing pause",timoutWarningMessage:"The co-browsing session has timed out. Both parties must refresh the page in order to continue.",coBrowsingPause:"Co-browsing will resume soon",buttonSave:"Save",emptySaveMessage:"Please enter name and url",emptySaveTitle:"You are trying to save a link without content",inactiveTitle:"This browser is inactive",inactiveMessage:"The sharing has been taken over by another agent or another browser window",badUrlTitle:"The url is malformed",badUrlMessage:"Please enter an url that starts with http:// or https://",enterCode:"Enter code",connectToAgent:"Code for co-browsing:",no_cob_engine:"No connection could be made, please check the code",try_again:"Please try again"},sv:{buttonCancel:"Nej",buttonAbort:"Avbryt",buttonYes:"Ja",buttonNo:"Nej",buttonShare:"Ja",buttonStay:"Stanna",closeLink:"St&auml;ng",addLink:"L&auml;gg till ny l&auml;nk",labelNewLink:"Namn",labelUrl:"Url inlusive http eller https",buttonContinue:"Forts&auml;tt",startQuery:"Vill du dela webbsida?",agentRedirectQuery:"Genom att skicka l&auml;nken avbryts delningen eftersom l&auml;nken leder till en annan webbsite.",agentRedirectTitle:"Co-browsing kommer att avbrytas",userRedirectQuery:"Agenten har skickat en sida till dig. Klicka Ja fï¿½r att ï¿½ppna den",stopSharing:"Avsluta delning",buttonDeleteLink:"Ja",deleteLinkTitle:"Ta bort l&auml;nk?",deleteLinkWarning:"ï¿½r du s&auml;ker p&aring; att du vill ta bort l&auml;nken?",buttonOK:"OK",timoutWarningTitle:"Co-browsing paus",timoutWarningMessage:"Delningen har stannat p&aring; grund av inaktivitet. B&aring;da parter m&aring;ste uppdatera sin sida f&ouml;r att delningen ska forts&auml;tta.",coBrowsingPause:"Delningen kommer strax att forts&auml;tta.",buttonSave:"Spara",emptySaveMessage:"Ange namn och url.",emptySaveTitle:"Du f&ouml;rs&ouml;ker spara en l&auml;nk utan inneh&aring;ll",inactiveTitle:"Denna browser &auml;r inaktiv",inactiveMessage:"Delningen har tagits &ouml;ver av en annan agent eller ett annat browserf&ouml;nster ",badUrlTitle:"Url:en &auml;r felformaterad",badUrlMessage:"Ange en url som startar med http:// eller https://",enterCode:"Ange kod",connectToAgent:"Kod f&ouml;r co-browsing:",no_cob_engine:"Ingen anslutning kunde g&ouml;ras, v&auml;nligen kontrollera koden",try_again:"Fï¿½rsï¿½k igen"},da:{buttonCancel:"Nej",buttonAbort:"Abryd",buttonYes:"Ja",buttonNo:"Nej",buttonShare:"Ja",buttonStay:"Stands",closeLink:"Luk",addLink:"Tilf&oslash;j nyt link",labelNewLink:"Navn",labelUrl:"Url inklusive http eller https",buttonContinue:"Forts&aelig;t",startQuery:"Vil du dele hjemmeside?",agentRedirectQuery:"N&aring;r du sender linket afbrydes delingen, fordi linket f&oslash;rer til en anden hjemmeside.",agentRedirectTitle:"Co-browsing bliver afbrudt",userRedirectQuery:"Der &aring;bnes en anden side. Tillader du det?",stopSharing:"Afslut deling",buttonDeleteLink:"Ja",deleteLinkTitle:"Slet link?",deleteLinkWarning:"Er du sikker p&aring;, at du vil slette linket?",buttonOK:"OK",timoutWarningTitle:"Co-browsing pause",timoutWarningMessage:"Delingen er standset pga. inaktivitet. Opdater siden for at forts&aelig;tte.",coBrowsingPause:"Delingen forts&aelig;tter straks.",buttonSave:"Gem",emptySaveMessage:"Angiv navn og url.",emptySaveTitle:"Du fors&oslash;ger at gemme et link uden indhold",inactiveTitle:"Denne browser er inaktiv",inactiveMessage:"Delingen er blevet overtaget af en anden agent",badUrlTitle:"Url'en er fejlformateret",badUrlMessage:"Angiv en url, der starter med http:// eller https://",enterCode:"Angiv kode",connectToAgent:"Kode til co-browsing:",no_cob_engine:"Tilslutning ikke mulig, kontroller venligst koden",try_again:"Pr&oslash;v igen"},fi:{buttonCancel:"Ei",buttonAbort:"Peruuta",buttonYes:"Kyll&auml;",buttonNo:"Ei",buttonShare:"Kyll&auml;",buttonStay:"Pys&auml;yt&auml;",closeLink:"Sulje",addLink:"Lis&auml;&auml; uusi linkki",labelNewLink:"Nimi",labelUrl:"Url ja http tai https",buttonContinue:"Jatka",startQuery:"Haluatko jakaa verkkosivun?",agentRedirectQuery:"Jakaminen keskeytyy, jos l&auml;het&auml;t linkin, koska linkki johtaa toiseen verkkosivustoon.",agentRedirectTitle:"Yhteisselaus keskeytyy",userRedirectQuery:"Toinen sivu avautuu. Haluatko sallia sen?",stopSharing:"Lopeta jakaminen",buttonDeleteLink:"Kyll&auml;",deleteLinkTitle:"Poistetaanko linkki?",deleteLinkWarning:"Haluatko varmasti poistaa linkin?",buttonOK:"OK",timoutWarningTitle:"Yhteisselailun keskeytys",timoutWarningMessage:"Jakaminen on loppunut toimettomuuden vuoksi. Voit jatkaa p&auml;ivitt&auml;m&auml;ll&auml; sivun.",coBrowsingPause:"Jakaminen jatkuu pian.",buttonSave:"Tallenna",emptySaveMessage:"Anna nimi ja url.",emptySaveTitle:"Yrit&auml;t tallentaa linkki&auml;, jossa ei ole sis&auml;lt&ouml;&auml;.",inactiveTitle:"T&auml;m&auml; selain ei ole aktiivinen.",inactiveMessage:"Toinen asiakaspalvelija k&auml;ytt&auml;&auml; jakamista",badUrlTitle:"Url on muotoiltu v&auml;&auml;rin",badUrlMessage:"Anna url, joka alkaa http:// tai https://",enterCode:"Anna koodi",connectToAgent:"Yhteisselauksen koodi:",no_cob_engine:"Yhteyden muodostaminen ei onnistunut, tarkista koodi",try_again:"Yrit&auml; uudelleen"},nb:{buttonCancel:"Nei",buttonAbort:"Avbryt",buttonYes:"Ja",buttonNo:"Nei",buttonShare:"Ja",buttonStay:"Stopp",closeLink:"Lukk",addLink:"Legg til ny kobling",labelNewLink:"Navn",labelUrl:"Nettadresse inkludert http eller https",buttonContinue:"Fortsett",startQuery:"Vil du dele en nettside?",agentRedirectQuery:"Hvis du sender koblingen, avbrytes delingen siden koblingen f&oslash;rer til en annen nettside.",agentRedirectTitle:"Samlesingen vil bli avbrutt.",userRedirectQuery:"En annen side vil bli &aring;pnet. Tillater du det?",stopSharing:"Avslutt deling",buttonDeleteLink:"Ja",deleteLinkTitle:"Fjerne kobling?",deleteLinkWarning:"Er du sikker p&aring; at du vil fjerne koblingen?",buttonOK:"OK",timoutWarningTitle:"Samlesing p&aring; pause",timoutWarningMessage:"Delingen har stoppet opp p&aring; grunn av manglende aktivitet. Oppdater siden for &aring; fortsette.",coBrowsingPause:"Delingen fortsetter straks.",buttonSave:"Lagre",emptySaveMessage:"Angi navn og nettadresse.",emptySaveTitle:"Du pr&oslash;ver &aring; lagre en kobling uten innhold.",inactiveTitle:"Denne nettleseren er ikke aktiv.",inactiveMessage:"Delingen er tatt over av en annen agent.",badUrlTitle:"Nettadressen har feil format.",badUrlMessage:"Angi en nettadresse som begynner med http:// eller https://.",enterCode:"Angi kode",connectToAgent:"Kode for felleslesing:",no_cob_engine:"Kunne ikke opprette forbindelse. Kontroller koden",try_again:"Pr&oslashv p&aring; nytt"}};var XRegExp;XRegExp=XRegExp||function(a){"use strict";function b(a,b,c){var d;for(d in k.prototype)k.prototype.hasOwnProperty(d)&&(a[d]=k.prototype[d]);return a.xregexp={captureNames:b,isNative:!!c},a}function c(a){return(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.extended?"x":"")+(a.sticky?"y":"")}function d(a,d,e){if(!k.isRegExp(a))throw new TypeError("type RegExp expected");var f=o.replace.call(c(a)+(d||""),w,"");return e&&(f=o.replace.call(f,new RegExp("["+e+"]+","g"),"")),a=a.xregexp&&!a.xregexp.isNative?b(k(a.source,f),a.xregexp.captureNames?a.xregexp.captureNames.slice(0):null):b(new RegExp(a.source,f),null,!0)}function e(a,b){var c=a.length;if(Array.prototype.lastIndexOf)return a.lastIndexOf(b);for(;c--;)if(a[c]===b)return c;return-1}function f(a,b){return Object.prototype.toString.call(a).toLowerCase()==="[object "+b+"]"}function g(a){return a=a||{},"all"===a||a.all?a={natives:!0,extensibility:!0}:f(a,"string")&&(a=k.forEach(a,/[^\s,]+/,function(a){this[a]=!0},{})),a}function h(a,b,c,d){var e,f,g=r.length,h=null;A=!0;try{for(;g--;)if(f=r[g],!("all"!==f.scope&&f.scope!==c||f.trigger&&!f.trigger.call(d))&&(f.pattern.lastIndex=b,e=p.exec.call(f.pattern,a),e&&e.index===b)){h={output:f.handler.call(d,e,c),match:e};break}}catch(i){throw i}finally{A=!1}return h}function i(a){k.addToken=l[a?"on":"off"],n.extensibility=a}function j(a){RegExp.prototype.exec=(a?p:o).exec,RegExp.prototype.test=(a?p:o).test,String.prototype.match=(a?p:o).match,String.prototype.replace=(a?p:o).replace,String.prototype.split=(a?p:o).split,n.natives=a}var k,l,m,n={natives:!1,extensibility:!1},o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},p={},q={},r=[],s="default",t="class",u={"default":/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/,"class":/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/},v=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,w=/([\s\S])(?=[\s\S]*\1)/g,x=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,y=o.exec.call(/()??/,"")[1]===a,z=RegExp.prototype.sticky!==a,A=!1,B="gim"+(z?"y":"");return k=function(c,e){if(k.isRegExp(c)){if(e!==a)throw new TypeError("can't supply flags when constructing one RegExp from another");return d(c)}if(A)throw new Error("can't call the XRegExp constructor within token definition functions");var f,g,i,j=[],l=s,m={hasNamedCapture:!1,captureNames:[],hasFlag:function(a){return e.indexOf(a)>-1}},n=0;if(c=c===a?"":String(c),e=e===a?"":String(e),o.match.call(e,w))throw new SyntaxError("invalid duplicate regular expression flag");for(c=o.replace.call(c,/^\(\?([\w$]+)\)/,function(a,b){if(o.test.call(/[gy]/,b))throw new SyntaxError("can't use flag g or y in mode modifier");return e=o.replace.call(e+b,w,""),""}),k.forEach(e,/[\s\S]/,function(a){if(B.indexOf(a[0])<0)throw new SyntaxError("invalid regular expression flag "+a[0])});n<c.length;)f=h(c,n,l,m),f?(j.push(f.output),n+=f.match[0].length||1):(g=o.exec.call(u[l],c.slice(n)),g?(j.push(g[0]),n+=g[0].length):(i=c.charAt(n),"["===i?l=t:"]"===i&&(l=s),j.push(i),++n));return b(new RegExp(j.join(""),o.replace.call(e,/[^gimy]+/g,"")),m.hasNamedCapture?m.captureNames:null)},l={on:function(a,b,c){c=c||{},a&&r.push({pattern:d(a,"g"+(z?"y":"")),handler:b,scope:c.scope||s,trigger:c.trigger||null}),c.customFlags&&(B=o.replace.call(B+c.customFlags,w,""))},off:function(){throw new Error("extensibility must be installed before using addToken")}},k.addToken=l.off,k.cache=function(a,b){var c=a+"/"+(b||"");return q[c]||(q[c]=k(a,b))},k.escape=function(a){return o.replace.call(a,/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},k.exec=function(a,b,c,e){var f,g=d(b,"g"+(e&&z?"y":""),e===!1?"y":"");return g.lastIndex=c=c||0,f=p.exec.call(g,a),e&&f&&f.index!==c&&(f=null),b.global&&(b.lastIndex=f?g.lastIndex:0),f},k.forEach=function(a,b,c,d){for(var e,f=0,g=-1;e=k.exec(a,b,f);)c.call(d,e,++g,a,b),f=e.index+(e[0].length||1);return d},k.globalize=function(a){return d(a,"g")},k.install=function(a){a=g(a),!n.natives&&a.natives&&j(!0),!n.extensibility&&a.extensibility&&i(!0)},k.isInstalled=function(a){return!!n[a]},k.isRegExp=function(a){return f(a,"regexp")},k.matchChain=function(a,b){return function c(a,d){var e,f=b[d].regex?b[d]:{regex:b[d]},g=[],h=function(a){g.push(f.backref?a[f.backref]||"":a[0])};for(e=0;e<a.length;++e)k.forEach(a[e],f.regex,h);return d!==b.length-1&&g.length?c(g,d+1):g}([a],0)},k.replace=function(b,c,e,f){var g,h=k.isRegExp(c),i=c;return h?(f===a&&c.global&&(f="all"),i=d(c,"all"===f?"g":"","all"===f?"":"g")):"all"===f&&(i=new RegExp(k.escape(String(c)),"g")),g=p.replace.call(String(b),i,e),h&&c.global&&(c.lastIndex=0),g},k.split=function(a,b,c){return p.split.call(a,b,c)},k.test=function(a,b,c,d){return!!k.exec(a,b,c,d)},k.uninstall=function(a){a=g(a),n.natives&&a.natives&&j(!1),n.extensibility&&a.extensibility&&i(!1)},k.union=function(a,b){var c,d,e,g,h=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,i=0,j=function(a,b,e){var f=d[i-c];if(b){if(++i,f)return"(?<"+f+">"}else if(e)return"\\"+(+e+c);return a},l=[];if(!f(a,"array")||!a.length)throw new TypeError("patterns must be a nonempty array");for(g=0;g<a.length;++g)e=a[g],k.isRegExp(e)?(c=i,d=e.xregexp&&e.xregexp.captureNames||[],l.push(k(e.source).source.replace(h,j))):l.push(k.escape(e));return k(l.join("|"),b)},k.version="2.0.0",p.exec=function(b){var d,f,g,h,i;if(this.global||(h=this.lastIndex),d=o.exec.apply(this,arguments)){if(!y&&d.length>1&&e(d,"")>-1&&(g=new RegExp(this.source,o.replace.call(c(this),"g","")),o.replace.call(String(b).slice(d.index),g,function(){var b;for(b=1;b<arguments.length-2;++b)arguments[b]===a&&(d[b]=a)})),this.xregexp&&this.xregexp.captureNames)for(i=1;i<d.length;++i)f=this.xregexp.captureNames[i-1],f&&(d[f]=d[i]);this.global&&!d[0].length&&this.lastIndex>d.index&&(this.lastIndex=d.index)}return this.global||(this.lastIndex=h),d},p.test=function(a){return!!p.exec.call(this,a)},p.match=function(a){if(k.isRegExp(a)){if(a.global){var b=o.match.apply(this,arguments);return a.lastIndex=0,b}}else a=new RegExp(a);return p.exec.call(a,this)},p.replace=function(a,b){var c,d,g,h,i=k.isRegExp(a);return i?(a.xregexp&&(c=a.xregexp.captureNames),a.global||(h=a.lastIndex)):a+="",f(b,"function")?d=o.replace.call(String(this),a,function(){var d,e=arguments;if(c)for(e[0]=new String(e[0]),d=0;d<c.length;++d)c[d]&&(e[0][c[d]]=e[d+1]);return i&&a.global&&(a.lastIndex=e[e.length-2]+e[0].length),b.apply(null,e)}):(g=String(this),d=o.replace.call(g,a,function(){var a=arguments;return o.replace.call(String(b),v,function(b,d,f){var g;if(d){if(g=+d,g<=a.length-3)return a[g]||"";if(g=c?e(c,d):-1,0>g)throw new SyntaxError("backreference to undefined group "+b);return a[g+1]||""}if("$"===f)return"$";if("&"===f||0===+f)return a[0];if("`"===f)return a[a.length-1].slice(0,a[a.length-2]);if("'"===f)return a[a.length-1].slice(a[a.length-2]+a[0].length);if(f=+f,!isNaN(f)){if(f>a.length-3)throw new SyntaxError("backreference to undefined group "+b);return a[f]||""}throw new SyntaxError("invalid token "+b)})})),i&&(a.lastIndex=a.global?0:h),d},p.split=function(b,c){if(!k.isRegExp(b))return o.split.apply(this,arguments);var d,e=String(this),f=b.lastIndex,g=[],h=0;return c=(c===a?-1:c)>>>0,k.forEach(e,b,function(a){a.index+a[0].length>h&&(g.push(e.slice(h,a.index)),a.length>1&&a.index<e.length&&Array.prototype.push.apply(g,a.slice(1)),d=a[0].length,h=a.index+d)}),h===e.length?(!o.test.call(b,"")||d)&&g.push(""):g.push(e.slice(h)),b.lastIndex=f,g.length>c?g.slice(0,c):g},m=l.on,m(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4})|x(?![\dA-Fa-f]{2}))/,function(a,b){if("B"===a[1]&&b===s)return a[0];throw new SyntaxError("invalid escape "+a[0])},{scope:"all"}),m(/\[(\^?)]/,function(a){return a[1]?"[\\s\\S]":"\\b\\B"}),m(/(?:\(\?#[^)]*\))+/,function(a){return o.test.call(x,a.input.slice(a.index+a[0].length))?"":"(?:)"}),m(/\\k<([\w$]+)>/,function(a){var b=isNaN(a[1])?e(this.captureNames,a[1])+1:+a[1],c=a.index+a[0].length;if(!b||b>this.captureNames.length)throw new SyntaxError("backreference to undefined group "+a[0]);return"\\"+b+(c===a.input.length||isNaN(a.input.charAt(c))?"":"(?:)")}),m(/(?:\s+|#.*)+/,function(a){return o.test.call(x,a.input.slice(a.index+a[0].length))?"":"(?:)"},{trigger:function(){return this.hasFlag("x")},customFlags:"x"}),m(/\./,function(){return"[\\s\\S]"},{trigger:function(){return this.hasFlag("s")},customFlags:"s"}),m(/\(\?P?<([\w$]+)>/,function(a){if(!isNaN(a[1]))throw new SyntaxError("can't use integer as capture name "+a[0]);return this.captureNames.push(a[1]),this.hasNamedCapture=!0,"("}),m(/\\(\d+)/,function(a,b){if(!(b===s&&/^[1-9]/.test(a[1])&&+a[1]<=this.captureNames.length)&&"0"!==a[1])throw new SyntaxError("can't use octal escape or backreference to undefined group "+a[0]);return a[0]},{scope:"all"}),m(/\((?!\?)/,function(){return this.hasFlag("n")?"(?:":(this.captureNames.push(null),"(")},{customFlags:"n"}),"undefined"!=typeof exports&&(exports.XRegExp=k),k}(),function(a){"use strict";function b(a){return a.replace(/[- _]+/g,"").toLowerCase()}function c(a){return a.replace(/\w{4}/g,"\\u$&")}function d(a){for(;a.length<4;)a="0"+a;return a}function e(a){return parseInt(a,16)}function f(a){return parseInt(a,10).toString(16)}function g(b){var c,g=[],h=-1;return a.forEach(b,/\\u(\w{4})(?:-\\u(\w{4}))?/,function(a){c=e(a[1]),c>h+1&&(g.push("\\u"+d(f(h+1))),c>h+2&&g.push("-\\u"+d(f(c-1)))),h=e(a[2]||a[1])}),65535>h&&(g.push("\\u"+d(f(h+1))),65534>h&&g.push("-\\uFFFF")),g.join("")}function h(a){return i["^"+a]||(i["^"+a]=g(i[a]))}var i={};a.install("extensibility"),a.addUnicodePackage=function(d,e){var f;if(!a.isInstalled("extensibility"))throw new Error("extensibility must be installed before adding Unicode packages");if(d)for(f in d)d.hasOwnProperty(f)&&(i[b(f)]=c(d[f]));if(e)for(f in e)e.hasOwnProperty(f)&&(i[b(e[f])]=i[b(f)])},a.addUnicodePackage({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05270531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A008A2-08AC0904-0939093D09500958-09610971-09770979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A793A7A0-A7AAA7F8-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"},{L:"Letter"}),a.addToken(/\\([pP]){(\^?)([^}]*)}/,function(a,c){var d="P"===a[1]||a[2]?"^":"",e=b(a[3]);if("P"===a[1]&&a[2])throw new SyntaxError("invalid double negation \\P{^");if(!i.hasOwnProperty(e))throw new SyntaxError("invalid or unknown Unicode property "+a[0]);return"class"===c?d?h(e):i[e]:"["+d+i[e]+"]"},{scope:"all"})}(XRegExp),function(a){"use strict";if(!a.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");a.install("extensibility"),a.addUnicodePackage({Ll:"0061-007A00B500DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F05210523052505270561-05871D00-1D2B1D6B-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7B2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2CF32D00-2D252D272D2DA641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA661A663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CA78EA791A793A7A1A7A3A7A5A7A7A7A9A7FAFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E05200522052405260531-055610A0-10C510C710CD1E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CED2CF2A640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA660A662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BA78DA790A792A7A0A7A2A7A4A7A6A7A8A7AAFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D6A1D781D9B-1DBF2071207F2090-209C2C7C2C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A7F8A7F9A9CFAA70AADDAAF3AAF4FF70FF9EFF9F",Lo:"00AA00BA01BB01C0-01C3029405D0-05EA05F0-05F20620-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150840-085808A008A2-08AC0904-0939093D09500958-09610972-09770979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA10FD-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF11CF51CF62135-21382D30-2D672D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCAAE0-AAEAAAF2AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065F067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0859-085B08E4-08FE0900-0903093A-093C093E-094F0951-0957096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F8D-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135D-135F1712-17141732-1734175217531772177317B4-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAD1BE6-1BF31C24-1C371CD0-1CD21CD4-1CE81CED1CF2-1CF41DC0-1DE61DFC-1DFF20D0-20F02CEF-2CF12D7F2DE0-2DFF302A-302F3099309AA66F-A672A674-A67DA69FA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1AAEB-AAEFAAF5AAF6ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065F067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0859-085B08E4-08FE0900-0902093A093C0941-0948094D0951-095709620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F8D-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135D-135F1712-17141732-1734175217531772177317B417B517B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91BAB1BE61BE81BE91BED1BEF-1BF11C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1CF41DC0-1DE61DFC-1DFF20D0-20DC20E120E5-20F02CEF-2CF12D7F2DE0-2DFF302A-302D3099309AA66FA674-A67DA69FA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1AAECAAEDAAF6ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093B093E-09400949-094C094E094F0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1BAC1BAD1BE71BEA-1BEC1BEE1BF21BF31C24-1C2B1C341C351CE11CF21CF3302E302FA823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BAAEBAAEEAAEFAAF5ABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048920DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0B72-0B770BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293248-324F3251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90B72-0B770BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F919DA20702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293248-324F3251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100A700AB00B600B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E085E0964096509700AF00DF40E4F0E5A0E5B0F04-0F120F140F3A-0F3D0F850FD0-0FD40FD90FDA104A-104F10FB1360-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A194419451A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601BFC-1BFF1C3B-1C3F1C7E1C7F1CC0-1CC71CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2D702E00-2E2E2E30-2E3B3001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFAAF0AAF1ABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A2E3A2E3B301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100A700B600B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E085E0964096509700AF00DF40E4F0E5A0E5B0F04-0F120F140F850FD0-0FD40FD90FDA104A-104F10FB1360-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A194419451A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601BFC-1BFF1C3B-1C3F1C7E1C7F1CC0-1CC71CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2D702E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E30-2E393001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFAAF0AAF1ABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A600A800A900AC00AE-00B100B400B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F60482058F0606-0608060B060E060F06DE06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0D790E3F0F01-0F030F130F15-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F1390-139917DB194019DE-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B9210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23F32400-24262440-244A249C-24E92500-26FF2701-27672794-27C427C7-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-324732503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FBB2-FBC1FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C21182140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5058F060B09F209F309FB0AF10BF90E3F17DB20A0-20B9A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFBB2-FBC1FF3EFF40FFE3",So:"00A600A900AE00B00482060E060F06DE06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0D790F01-0F030F130F15-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F1390-1399194019DE-19FF1B61-1B6A1B74-1B7C210021012103-210621082109211421162117211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23F32400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26FF2701-27672794-27BF2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-324732503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20528-05300557055805600588058B-058E059005C8-05CF05EB-05EF05F5-0605061C061D06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F085C085D085F-089F08A108AD-08E308FF097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B78-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D3B0D3C0D450D490D4F-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EE0-0EFF0F480F6D-0F700F980FBD0FCD0FDB-0FFF10C610C8-10CC10CE10CF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B135C137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BF4-1BFB1C38-1C3A1C4A-1C4C1C80-1CBF1CC8-1CCF1CF7-1CFF1DE7-1DFB1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F209D-209F20BA-20CF20F1-20FF218A-218F23F4-23FF2427-243F244B-245F27002B4D-2B4F2B5A-2BFF2C2F2C5F2CF4-2CF82D262D28-2D2C2D2E2D2F2D68-2D6E2D71-2D7E2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E3C-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31BB-31BF31E4-31EF321F32FF4DB6-4DBF9FCD-9FFFA48D-A48FA4C7-A4CFA62C-A63FA698-A69EA6F8-A6FFA78FA794-A79FA7AB-A7F7A82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAF7-AB00AB07AB08AB0FAB10AB17-AB1FAB27AB2F-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBC2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060406DD070F200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20528-05300557055805600588058B-058E059005C8-05CF05EB-05EF05F5-05FF0605061C061D070E074B074C07B2-07BF07FB-07FF082E082F083F085C085D085F-089F08A108AD-08E308FF097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B78-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D3B0D3C0D450D490D4F-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EE0-0EFF0F480F6D-0F700F980FBD0FCD0FDB-0FFF10C610C8-10CC10CE10CF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B135C137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BF4-1BFB1C38-1C3A1C4A-1C4C1C80-1CBF1CC8-1CCF1CF7-1CFF1DE7-1DFB1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F209D-209F20BA-20CF20F1-20FF218A-218F23F4-23FF2427-243F244B-245F27002B4D-2B4F2B5A-2BFF2C2F2C5F2CF4-2CF82D262D28-2D2C2D2E2D2F2D68-2D6E2D71-2D7E2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E3C-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31BB-31BF31E4-31EF321F32FF4DB6-4DBF9FCD-9FFFA48D-A48FA4C7-A4CFA62C-A63FA698-A69EA6F8-A6FFA78FA794-A79FA7AB-A7F7A82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAF7-AB00AB07AB08AB0FAB10AB17-AB1FAB27AB2F-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBC2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"},{Ll:"Lowercase_Letter",Lu:"Uppercase_Letter",Lt:"Titlecase_Letter",Lm:"Modifier_Letter",Lo:"Other_Letter",M:"Mark",Mn:"Nonspacing_Mark",Mc:"Spacing_Mark",Me:"Enclosing_Mark",N:"Number",Nd:"Decimal_Number",Nl:"Letter_Number",No:"Other_Number",P:"Punctuation",Pd:"Dash_Punctuation",Ps:"Open_Punctuation",Pe:"Close_Punctuation",Pi:"Initial_Punctuation",Pf:"Final_Punctuation",Pc:"Connector_Punctuation",Po:"Other_Punctuation",S:"Symbol",Sm:"Math_Symbol",Sc:"Currency_Symbol",Sk:"Modifier_Symbol",So:"Other_Symbol",Z:"Separator",Zs:"Space_Separator",Zl:"Line_Separator",Zp:"Paragraph_Separator",C:"Other",Cc:"Control",Cf:"Format",Co:"Private_Use",Cs:"Surrogate",Cn:"Unassigned"})
}(XRegExp),function(a){"use strict";if(!a.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");a.install("extensibility"),a.addUnicodePackage({Arabic:"0600-06040606-060B060D-061A061E0620-063F0641-064A0656-065E066A-066F0671-06DC06DE-06FF0750-077F08A008A2-08AC08E4-08FEFB50-FBC1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFCFE70-FE74FE76-FEFC",Armenian:"0531-05560559-055F0561-0587058A058FFB13-FB17",Balinese:"1B00-1B4B1B50-1B7C",Bamum:"A6A0-A6F7",Batak:"1BC0-1BF31BFC-1BFF",Bengali:"0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BC-09C409C709C809CB-09CE09D709DC09DD09DF-09E309E6-09FB",Bopomofo:"02EA02EB3105-312D31A0-31BA",Braille:"2800-28FF",Buginese:"1A00-1A1B1A1E1A1F",Buhid:"1740-1753",Canadian_Aboriginal:"1400-167F18B0-18F5",Cham:"AA00-AA36AA40-AA4DAA50-AA59AA5C-AA5F",Cherokee:"13A0-13F4",Common:"0000-0040005B-0060007B-00A900AB-00B900BB-00BF00D700F702B9-02DF02E5-02E902EC-02FF0374037E038503870589060C061B061F06400660-066906DD096409650E3F0FD5-0FD810FB16EB-16ED173517361802180318051CD31CE11CE9-1CEC1CEE-1CF31CF51CF62000-200B200E-2064206A-20702074-207E2080-208E20A0-20B92100-21252127-2129212C-21312133-214D214F-215F21892190-23F32400-24262440-244A2460-26FF2701-27FF2900-2B4C2B50-2B592E00-2E3B2FF0-2FFB3000-300430063008-30203030-3037303C-303F309B309C30A030FB30FC3190-319F31C0-31E33220-325F327F-32CF3358-33FF4DC0-4DFFA700-A721A788-A78AA830-A839FD3EFD3FFDFDFE10-FE19FE30-FE52FE54-FE66FE68-FE6BFEFFFF01-FF20FF3B-FF40FF5B-FF65FF70FF9EFF9FFFE0-FFE6FFE8-FFEEFFF9-FFFD",Coptic:"03E2-03EF2C80-2CF32CF9-2CFF",Cyrillic:"0400-04840487-05271D2B1D782DE0-2DFFA640-A697A69F",Devanagari:"0900-09500953-09630966-09770979-097FA8E0-A8FB",Ethiopic:"1200-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135D-137C1380-13992D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDEAB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2E",Georgian:"10A0-10C510C710CD10D0-10FA10FC-10FF2D00-2D252D272D2D",Glagolitic:"2C00-2C2E2C30-2C5E",Greek:"0370-03730375-0377037A-037D038403860388-038A038C038E-03A103A3-03E103F0-03FF1D26-1D2A1D5D-1D611D66-1D6A1DBF1F00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FC41FC6-1FD31FD6-1FDB1FDD-1FEF1FF2-1FF41FF6-1FFE2126",Gujarati:"0A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABC-0AC50AC7-0AC90ACB-0ACD0AD00AE0-0AE30AE6-0AF1",Gurmukhi:"0A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3C0A3E-0A420A470A480A4B-0A4D0A510A59-0A5C0A5E0A66-0A75",Han:"2E80-2E992E9B-2EF32F00-2FD5300530073021-30293038-303B3400-4DB54E00-9FCCF900-FA6DFA70-FAD9",Hangul:"1100-11FF302E302F3131-318E3200-321E3260-327EA960-A97CAC00-D7A3D7B0-D7C6D7CB-D7FBFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Hanunoo:"1720-1734",Hebrew:"0591-05C705D0-05EA05F0-05F4FB1D-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FB4F",Hiragana:"3041-3096309D-309F",Inherited:"0300-036F04850486064B-0655065F0670095109521CD0-1CD21CD4-1CE01CE2-1CE81CED1CF41DC0-1DE61DFC-1DFF200C200D20D0-20F0302A-302D3099309AFE00-FE0FFE20-FE26",Javanese:"A980-A9CDA9CF-A9D9A9DEA9DF",Kannada:"0C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBC-0CC40CC6-0CC80CCA-0CCD0CD50CD60CDE0CE0-0CE30CE6-0CEF0CF10CF2",Katakana:"30A1-30FA30FD-30FF31F0-31FF32D0-32FE3300-3357FF66-FF6FFF71-FF9D",Kayah_Li:"A900-A92F",Khmer:"1780-17DD17E0-17E917F0-17F919E0-19FF",Lao:"0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60EC8-0ECD0ED0-0ED90EDC-0EDF",Latin:"0041-005A0061-007A00AA00BA00C0-00D600D8-00F600F8-02B802E0-02E41D00-1D251D2C-1D5C1D62-1D651D6B-1D771D79-1DBE1E00-1EFF2071207F2090-209C212A212B2132214E2160-21882C60-2C7FA722-A787A78B-A78EA790-A793A7A0-A7AAA7F8-A7FFFB00-FB06FF21-FF3AFF41-FF5A",Lepcha:"1C00-1C371C3B-1C491C4D-1C4F",Limbu:"1900-191C1920-192B1930-193B19401944-194F",Lisu:"A4D0-A4FF",Malayalam:"0D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4E0D570D60-0D630D66-0D750D79-0D7F",Mandaic:"0840-085B085E",Meetei_Mayek:"AAE0-AAF6ABC0-ABEDABF0-ABF9",Mongolian:"1800180118041806-180E1810-18191820-18771880-18AA",Myanmar:"1000-109FAA60-AA7B",New_Tai_Lue:"1980-19AB19B0-19C919D0-19DA19DE19DF",Nko:"07C0-07FA",Ogham:"1680-169C",Ol_Chiki:"1C50-1C7F",Oriya:"0B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3C-0B440B470B480B4B-0B4D0B560B570B5C0B5D0B5F-0B630B66-0B77",Phags_Pa:"A840-A877",Rejang:"A930-A953A95F",Runic:"16A0-16EA16EE-16F0",Samaritan:"0800-082D0830-083E",Saurashtra:"A880-A8C4A8CE-A8D9",Sinhala:"0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCA0DCF-0DD40DD60DD8-0DDF0DF2-0DF4",Sundanese:"1B80-1BBF1CC0-1CC7",Syloti_Nagri:"A800-A82B",Syriac:"0700-070D070F-074A074D-074F",Tagalog:"1700-170C170E-1714",Tagbanwa:"1760-176C176E-177017721773",Tai_Le:"1950-196D1970-1974",Tai_Tham:"1A20-1A5E1A60-1A7C1A7F-1A891A90-1A991AA0-1AAD",Tai_Viet:"AA80-AAC2AADB-AADF",Tamil:"0B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCD0BD00BD70BE6-0BFA",Telugu:"0C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4D0C550C560C580C590C60-0C630C66-0C6F0C78-0C7F",Thaana:"0780-07B1",Thai:"0E01-0E3A0E40-0E5B",Tibetan:"0F00-0F470F49-0F6C0F71-0F970F99-0FBC0FBE-0FCC0FCE-0FD40FD90FDA",Tifinagh:"2D30-2D672D6F2D702D7F",Vai:"A500-A62B",Yi:"A000-A48CA490-A4C6"})}(XRegExp),function(a){"use strict";if(!a.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");a.install("extensibility"),a.addUnicodePackage({InBasic_Latin:"0000-007F",InLatin_1_Supplement:"0080-00FF",InLatin_Extended_A:"0100-017F",InLatin_Extended_B:"0180-024F",InIPA_Extensions:"0250-02AF",InSpacing_Modifier_Letters:"02B0-02FF",InCombining_Diacritical_Marks:"0300-036F",InGreek_and_Coptic:"0370-03FF",InCyrillic:"0400-04FF",InCyrillic_Supplement:"0500-052F",InArmenian:"0530-058F",InHebrew:"0590-05FF",InArabic:"0600-06FF",InSyriac:"0700-074F",InArabic_Supplement:"0750-077F",InThaana:"0780-07BF",InNKo:"07C0-07FF",InSamaritan:"0800-083F",InMandaic:"0840-085F",InArabic_Extended_A:"08A0-08FF",InDevanagari:"0900-097F",InBengali:"0980-09FF",InGurmukhi:"0A00-0A7F",InGujarati:"0A80-0AFF",InOriya:"0B00-0B7F",InTamil:"0B80-0BFF",InTelugu:"0C00-0C7F",InKannada:"0C80-0CFF",InMalayalam:"0D00-0D7F",InSinhala:"0D80-0DFF",InThai:"0E00-0E7F",InLao:"0E80-0EFF",InTibetan:"0F00-0FFF",InMyanmar:"1000-109F",InGeorgian:"10A0-10FF",InHangul_Jamo:"1100-11FF",InEthiopic:"1200-137F",InEthiopic_Supplement:"1380-139F",InCherokee:"13A0-13FF",InUnified_Canadian_Aboriginal_Syllabics:"1400-167F",InOgham:"1680-169F",InRunic:"16A0-16FF",InTagalog:"1700-171F",InHanunoo:"1720-173F",InBuhid:"1740-175F",InTagbanwa:"1760-177F",InKhmer:"1780-17FF",InMongolian:"1800-18AF",InUnified_Canadian_Aboriginal_Syllabics_Extended:"18B0-18FF",InLimbu:"1900-194F",InTai_Le:"1950-197F",InNew_Tai_Lue:"1980-19DF",InKhmer_Symbols:"19E0-19FF",InBuginese:"1A00-1A1F",InTai_Tham:"1A20-1AAF",InBalinese:"1B00-1B7F",InSundanese:"1B80-1BBF",InBatak:"1BC0-1BFF",InLepcha:"1C00-1C4F",InOl_Chiki:"1C50-1C7F",InSundanese_Supplement:"1CC0-1CCF",InVedic_Extensions:"1CD0-1CFF",InPhonetic_Extensions:"1D00-1D7F",InPhonetic_Extensions_Supplement:"1D80-1DBF",InCombining_Diacritical_Marks_Supplement:"1DC0-1DFF",InLatin_Extended_Additional:"1E00-1EFF",InGreek_Extended:"1F00-1FFF",InGeneral_Punctuation:"2000-206F",InSuperscripts_and_Subscripts:"2070-209F",InCurrency_Symbols:"20A0-20CF",InCombining_Diacritical_Marks_for_Symbols:"20D0-20FF",InLetterlike_Symbols:"2100-214F",InNumber_Forms:"2150-218F",InArrows:"2190-21FF",InMathematical_Operators:"2200-22FF",InMiscellaneous_Technical:"2300-23FF",InControl_Pictures:"2400-243F",InOptical_Character_Recognition:"2440-245F",InEnclosed_Alphanumerics:"2460-24FF",InBox_Drawing:"2500-257F",InBlock_Elements:"2580-259F",InGeometric_Shapes:"25A0-25FF",InMiscellaneous_Symbols:"2600-26FF",InDingbats:"2700-27BF",InMiscellaneous_Mathematical_Symbols_A:"27C0-27EF",InSupplemental_Arrows_A:"27F0-27FF",InBraille_Patterns:"2800-28FF",InSupplemental_Arrows_B:"2900-297F",InMiscellaneous_Mathematical_Symbols_B:"2980-29FF",InSupplemental_Mathematical_Operators:"2A00-2AFF",InMiscellaneous_Symbols_and_Arrows:"2B00-2BFF",InGlagolitic:"2C00-2C5F",InLatin_Extended_C:"2C60-2C7F",InCoptic:"2C80-2CFF",InGeorgian_Supplement:"2D00-2D2F",InTifinagh:"2D30-2D7F",InEthiopic_Extended:"2D80-2DDF",InCyrillic_Extended_A:"2DE0-2DFF",InSupplemental_Punctuation:"2E00-2E7F",InCJK_Radicals_Supplement:"2E80-2EFF",InKangxi_Radicals:"2F00-2FDF",InIdeographic_Description_Characters:"2FF0-2FFF",InCJK_Symbols_and_Punctuation:"3000-303F",InHiragana:"3040-309F",InKatakana:"30A0-30FF",InBopomofo:"3100-312F",InHangul_Compatibility_Jamo:"3130-318F",InKanbun:"3190-319F",InBopomofo_Extended:"31A0-31BF",InCJK_Strokes:"31C0-31EF",InKatakana_Phonetic_Extensions:"31F0-31FF",InEnclosed_CJK_Letters_and_Months:"3200-32FF",InCJK_Compatibility:"3300-33FF",InCJK_Unified_Ideographs_Extension_A:"3400-4DBF",InYijing_Hexagram_Symbols:"4DC0-4DFF",InCJK_Unified_Ideographs:"4E00-9FFF",InYi_Syllables:"A000-A48F",InYi_Radicals:"A490-A4CF",InLisu:"A4D0-A4FF",InVai:"A500-A63F",InCyrillic_Extended_B:"A640-A69F",InBamum:"A6A0-A6FF",InModifier_Tone_Letters:"A700-A71F",InLatin_Extended_D:"A720-A7FF",InSyloti_Nagri:"A800-A82F",InCommon_Indic_Number_Forms:"A830-A83F",InPhags_pa:"A840-A87F",InSaurashtra:"A880-A8DF",InDevanagari_Extended:"A8E0-A8FF",InKayah_Li:"A900-A92F",InRejang:"A930-A95F",InHangul_Jamo_Extended_A:"A960-A97F",InJavanese:"A980-A9DF",InCham:"AA00-AA5F",InMyanmar_Extended_A:"AA60-AA7F",InTai_Viet:"AA80-AADF",InMeetei_Mayek_Extensions:"AAE0-AAFF",InEthiopic_Extended_A:"AB00-AB2F",InMeetei_Mayek:"ABC0-ABFF",InHangul_Syllables:"AC00-D7AF",InHangul_Jamo_Extended_B:"D7B0-D7FF",InHigh_Surrogates:"D800-DB7F",InHigh_Private_Use_Surrogates:"DB80-DBFF",InLow_Surrogates:"DC00-DFFF",InPrivate_Use_Area:"E000-F8FF",InCJK_Compatibility_Ideographs:"F900-FAFF",InAlphabetic_Presentation_Forms:"FB00-FB4F",InArabic_Presentation_Forms_A:"FB50-FDFF",InVariation_Selectors:"FE00-FE0F",InVertical_Forms:"FE10-FE1F",InCombining_Half_Marks:"FE20-FE2F",InCJK_Compatibility_Forms:"FE30-FE4F",InSmall_Form_Variants:"FE50-FE6F",InArabic_Presentation_Forms_B:"FE70-FEFF",InHalfwidth_and_Fullwidth_Forms:"FF00-FFEF",InSpecials:"FFF0-FFFF"})}(XRegExp),function(a){"use strict";if(!a.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");a.install("extensibility"),a.addUnicodePackage({Alphabetic:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE03450370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05270531-055605590561-058705B0-05BD05BF05C105C205C405C505C705D0-05EA05F0-05F20610-061A0620-06570659-065F066E-06D306D5-06DC06E1-06E806ED-06EF06FA-06FC06FF0710-073F074D-07B107CA-07EA07F407F507FA0800-0817081A-082C0840-085808A008A2-08AC08E4-08E908F0-08FE0900-093B093D-094C094E-09500955-09630971-09770979-097F0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BD-09C409C709C809CB09CC09CE09D709DC09DD09DF-09E309F009F10A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3E-0A420A470A480A4B0A4C0A510A59-0A5C0A5E0A70-0A750A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD-0AC50AC7-0AC90ACB0ACC0AD00AE0-0AE30B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D-0B440B470B480B4B0B4C0B560B570B5C0B5D0B5F-0B630B710B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCC0BD00BD70C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4C0C550C560C580C590C60-0C630C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD-0CC40CC6-0CC80CCA-0CCC0CD50CD60CDE0CE0-0CE30CF10CF20D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4C0D4E0D570D60-0D630D7A-0D7F0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCF-0DD40DD60DD8-0DDF0DF20DF30E01-0E3A0E40-0E460E4D0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60ECD0EDC-0EDF0F000F40-0F470F49-0F6C0F71-0F810F88-0F970F99-0FBC1000-10361038103B-103F1050-10621065-1068106E-1086108E109C109D10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135F1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16EE-16F01700-170C170E-17131720-17331740-17531760-176C176E-1770177217731780-17B317B6-17C817D717DC1820-18771880-18AA18B0-18F51900-191C1920-192B1930-19381950-196D1970-19741980-19AB19B0-19C91A00-1A1B1A20-1A5E1A61-1A741AA71B00-1B331B35-1B431B45-1B4B1B80-1BA91BAC-1BAF1BBA-1BE51BE7-1BF11C00-1C351C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF31CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E2160-218824B6-24E92C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2DE0-2DFF2E2F3005-30073021-30293031-30353038-303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA674-A67BA67F-A697A69F-A6EFA717-A71FA722-A788A78B-A78EA790-A793A7A0-A7AAA7F8-A801A803-A805A807-A80AA80C-A827A840-A873A880-A8C3A8F2-A8F7A8FBA90A-A92AA930-A952A960-A97CA980-A9B2A9B4-A9BFA9CFAA00-AA36AA40-AA4DAA60-AA76AA7AAA80-AABEAAC0AAC2AADB-AADDAAE0-AAEFAAF2-AAF5AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABEAAC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1D-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Uppercase:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E05200522052405260531-055610A0-10C510C710CD1E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F21452160-216F218324B6-24CF2C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CED2CF2A640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA660A662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BA78DA790A792A7A0A7A2A7A4A7A6A7A8A7AAFF21-FF3A",Lowercase:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02B802C002C102E0-02E40345037103730377037A-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F05210523052505270561-05871D00-1DBF1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF72071207F2090-209C210A210E210F2113212F21342139213C213D2146-2149214E2170-217F218424D0-24E92C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7D2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2CF32D00-2D252D272D2DA641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA661A663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76F-A778A77AA77CA77FA781A783A785A787A78CA78EA791A793A7A1A7A3A7A5A7A7A7A9A7F8-A7FAFB00-FB06FB13-FB17FF41-FF5A",White_Space:"0009-000D0020008500A01680180E2000-200A20282029202F205F3000",Noncharacter_Code_Point:"FDD0-FDEFFFFEFFFF",Default_Ignorable_Code_Point:"00AD034F115F116017B417B5180B-180D200B-200F202A-202E2060-206F3164FE00-FE0FFEFFFFA0FFF0-FFF8",Any:"0000-FFFF",Ascii:"0000-007F",Assigned:"0000-0377037A-037E0384-038A038C038E-03A103A3-05270531-05560559-055F0561-05870589058A058F0591-05C705D0-05EA05F0-05F40600-06040606-061B061E-070D070F-074A074D-07B107C0-07FA0800-082D0830-083E0840-085B085E08A008A2-08AC08E4-08FE0900-09770979-097F0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BC-09C409C709C809CB-09CE09D709DC09DD09DF-09E309E6-09FB0A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3C0A3E-0A420A470A480A4B-0A4D0A510A59-0A5C0A5E0A66-0A750A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABC-0AC50AC7-0AC90ACB-0ACD0AD00AE0-0AE30AE6-0AF10B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3C-0B440B470B480B4B-0B4D0B560B570B5C0B5D0B5F-0B630B66-0B770B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCD0BD00BD70BE6-0BFA0C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4D0C550C560C580C590C60-0C630C66-0C6F0C78-0C7F0C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBC-0CC40CC6-0CC80CCA-0CCD0CD50CD60CDE0CE0-0CE30CE6-0CEF0CF10CF20D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4E0D570D60-0D630D66-0D750D79-0D7F0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCA0DCF-0DD40DD60DD8-0DDF0DF2-0DF40E01-0E3A0E3F-0E5B0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60EC8-0ECD0ED0-0ED90EDC-0EDF0F00-0F470F49-0F6C0F71-0F970F99-0FBC0FBE-0FCC0FCE-0FDA1000-10C510C710CD10D0-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135D-137C1380-139913A0-13F41400-169C16A0-16F01700-170C170E-17141720-17361740-17531760-176C176E-1770177217731780-17DD17E0-17E917F0-17F91800-180E1810-18191820-18771880-18AA18B0-18F51900-191C1920-192B1930-193B19401944-196D1970-19741980-19AB19B0-19C919D0-19DA19DE-1A1B1A1E-1A5E1A60-1A7C1A7F-1A891A90-1A991AA0-1AAD1B00-1B4B1B50-1B7C1B80-1BF31BFC-1C371C3B-1C491C4D-1C7F1CC0-1CC71CD0-1CF61D00-1DE61DFC-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FC41FC6-1FD31FD6-1FDB1FDD-1FEF1FF2-1FF41FF6-1FFE2000-2064206A-20712074-208E2090-209C20A0-20B920D0-20F02100-21892190-23F32400-24262440-244A2460-26FF2701-2B4C2B50-2B592C00-2C2E2C30-2C5E2C60-2CF32CF9-2D252D272D2D2D30-2D672D6F2D702D7F-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2DE0-2E3B2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB3000-303F3041-30963099-30FF3105-312D3131-318E3190-31BA31C0-31E331F0-321E3220-32FE3300-4DB54DC0-9FCCA000-A48CA490-A4C6A4D0-A62BA640-A697A69F-A6F7A700-A78EA790-A793A7A0-A7AAA7F8-A82BA830-A839A840-A877A880-A8C4A8CE-A8D9A8E0-A8FBA900-A953A95F-A97CA980-A9CDA9CF-A9D9A9DEA9DFAA00-AA36AA40-AA4DAA50-AA59AA5C-AA7BAA80-AAC2AADB-AAF6AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABEDABF0-ABF9AC00-D7A3D7B0-D7C6D7CB-D7FBD800-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1D-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBC1FBD3-FD3FFD50-FD8FFD92-FDC7FDF0-FDFDFE00-FE19FE20-FE26FE30-FE52FE54-FE66FE68-FE6BFE70-FE74FE76-FEFCFEFFFF01-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDCFFE0-FFE6FFE8-FFEEFFF9-FFFD"})}(XRegExp),function(a){"use strict";function b(a,b,c,d){return{value:a,name:b,start:c,end:d}}a.matchRecursive=function(c,d,e,f,g){f=f||"",g=g||{};var h,i,j,k,l,m=f.indexOf("g")>-1,n=f.indexOf("y")>-1,o=f.replace(/y/g,""),p=g.escapeChar,q=g.valueNames,r=[],s=0,t=0,u=0,v=0;if(d=a(d,o),e=a(e,o),p){if(p.length>1)throw new SyntaxError("can't use more than one escape character");p=a.escape(p),l=new RegExp("(?:"+p+"[\\S\\s]|(?:(?!"+a.union([d,e]).source+")[^"+p+"])+)+",f.replace(/[^im]+/g,""))}for(;;){if(p&&(u+=(a.exec(c,l,u,"sticky")||[""])[0].length),j=a.exec(c,d,u),k=a.exec(c,e,u),j&&k&&(j.index<=k.index?k=null:j=null),j||k)t=(j||k).index,u=t+(j||k)[0].length;else if(!s)break;if(n&&!s&&t>v)break;if(j)s||(h=t,i=u),++s;else{if(!k||!s)throw new Error("string contains unbalanced delimiters");if(!--s&&(q?(q[0]&&h>v&&r.push(b(q[0],c.slice(v,h),v,h)),q[1]&&r.push(b(q[1],c.slice(h,i),h,i)),q[2]&&r.push(b(q[2],c.slice(i,t),i,t)),q[3]&&r.push(b(q[3],c.slice(t,u),t,u))):r.push(c.slice(i,t)),v=u,!m))break}t===u&&++u}return m&&!n&&q&&q[0]&&c.length>v&&r.push(b(q[0],c.slice(v),v,c.length)),r}}(XRegExp),function(a){"use strict";function b(a){var b=/^(?:\(\?:\))?\^/,c=/\$(?:\(\?:\))?$/;return c.test(a.replace(/\\[\s\S]/g,""))?a.replace(b,"").replace(c,""):a}function c(b){return a.isRegExp(b)?b.xregexp&&!b.xregexp.isNative?b:a(b.source):a(b)}var d=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,e=a.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,d],"g");a.build=function(f,g,h){var i,j,k,l,m=/^\(\?([\w$]+)\)/.exec(f),n={},o=0,p=0,q=[0];m&&(h=h||"",m[1].replace(/./g,function(a){h+=h.indexOf(a)>-1?"":a}));for(l in g)g.hasOwnProperty(l)&&(k=c(g[l]),n[l]={pattern:b(k.source),names:k.xregexp.captureNames||[]});return f=c(f),j=f.xregexp.captureNames||[],f=f.source.replace(e,function(a,b,c,e,f){var g,h,k=b||c;if(k){if(!n.hasOwnProperty(k))throw new ReferenceError("undefined property "+a);return b?(g=j[p],q[++p]=++o,h="(?<"+(g||k)+">"):h="(?:",i=o,h+n[k].pattern.replace(d,function(a,b,c){if(b){if(g=n[k].names[o-i],++o,g)return"(?<"+g+">"}else if(c)return"\\"+(+c+i);return a})+")"}if(e){if(g=j[p],q[++p]=++o,g)return"(?<"+g+">"}else if(f)return"\\"+q[+f];return a}),a(f,h)}}(XRegExp),function(a){"use strict";function b(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}b(a.prototype,{apply:function(a,b){return this.test(b[0])},call:function(a,b){return this.test(b)},forEach:function(b,c,d){return a.forEach(b,this,c,d)},globalize:function(){return a.globalize(this)},xexec:function(b,c,d){return a.exec(b,this,c,d)},xtest:function(b,c,d){return a.test(b,this,c,d)}})}(XRegExp),COB.HtmlUtils={filterScripts:function(a){var b=a.replace(/<script.*?>/gm,"<noscript>");return b=b.replace(/<\/script.*?>/gm,"</noscript>"),"undefined"!==b?this.escapeSpecialChars(b):COB.HtmlUtils.escapeSpecialChars(a)},escapeSpecialChars:function(a){{var b=function(a){var b=function(a){var b,c="";for(b=0;b<a.length;b++)a.charCodeAt(b)<255?c+=a[b]:c=c+"\\"+a.charCodeAt(b).toString(16);return c},c=b(a.content);COB.LOG.trace("prefix: "+a.prefix),COB.LOG.trace("content: "+a.content),COB.LOG.trace("postfix: "+a.postfix);var d="",e='"';return'"'===c.charAt(c.length-1)?(COB.LOG.trace("Fnutt: "+c.charAt(c.length-1)),d=""):(COB.LOG.trace("No Fnutt: "+c.charAt(c.length-1)),d='"',"attr"===a.content.substr(0,4)&&")"===a.content.charAt(a.content.length-1)?(COB.LOG.trace("Attr: "),e="",d=""):(COB.LOG.trace("Start:"+a.content.substr(0,4)),COB.LOG.trace("End:"+a.content.charAt(a.content.length-1)))),a.prefix+e+c+d+a.postfix},c=new XRegExp("(?<prefix>content:\\s*)(?<startQuote>[\"']*)(?<content>.*?)(?<endQuote>[\"']*)(?<postfix>[;}])","gsi");XRegExp.exec(a,c)}return newHtml=XRegExp.replace(a,c,b,"all"),newHtml?newHtml:a},fixLinks:function(a,b){COB.LOG.trace("Fixing link for base url "+a);var c=COB.HtmlUtils.splitUrl(a),d=function(a){var b;if(a.match(/^href=[\"\']*javascript/))return b=a.substring(6,a.length-1),a;if(a.match(/^href=[\"\'].*?\);*[\"\']/))return b=a.substring(6,a.length-1),a;if(a.match(/^href=[\"\']*#/))return b=a.substring(6,a.length-1),a;var d='"';return e.match(/url/)&&(d=")"),b=a.substring(e.length,a.length-1),b=b.replace(/\"/g,""),b=b.replace(/\'/g,""),b.match(/^\//)?b.match(/^\/\//)?e+COB.config.protocol+":"+b+d:e+c.baseUrl+b.substring(1)+d:b.match(/^\./)?e+c.baseUrl+c.path+"/"+b.substring(0)+d:b.match(/^\../)?e+c.baseUrl+b.substring(0)+d:b.match(/^http/)?a:e+c.baseUrl+c.path+"/"+b.substring(0)+d},e='href="',f=b.replace(/href\=\"(.*?)\"/g,d);e='src="';var g=new RegExp('src="(.*?)"',"gm");b=f.replace(g,d),e="url(";var h=new RegExp("url[(](.+?)[)]","gm");return b=b.replace(h,d),COB.HtmlUtils.makePushClicks(COB.HtmlUtils.makePushLinks(b))},splitUrl:function(a){var b=/https*\:\/\/.*?\/.*?/,c=a.match(b);c=null==c?a.match(/https*\:\/\/.*/)+"/":c[0];var d,e=a.match(/https*\:\/\/.*?\/(.*)\/.*/);d=null!=e?e[1]:"";var f=a.match(/https*\:\/\/.*\/(.*)?/);f=void 0==f||null==f?"":void 0==f[1]?"":f[1];var g={baseUrl:"",path:"",page:""};return g.baseUrl=c,g.path=d,g.page=f,g},fixQuotes:function(a){COB.LOG.trace("In fix quotes");var b=function(a){var b='"';c.match(/url/)&&(b=")");var d=a.replace(/\&quot\;/g,"");return d=d.replace(/\"/g,""),d=d.replace(/\'/g,"")},c="url(",d=new RegExp("url[(](.+?)[)]","gm");return a=a.replace(d,b)},makePushLinks:function(a){COB.LOG.trace("In makePushLinks: "+a);var b=new XRegExp('(?<prefix><a.+?href=")javascript:(?<script>.+)(?<postfix>")',"gx"),c=(XRegExp.exec(a,b),XRegExp.replace(a,b,function(a){var b=COB.HtmlUtils.fixQuotes(a.script);return b=COB.HtmlUtils.Base64.encode(b),a.prefix+"javascript:parent.COB_AGENT.pushScript('"+b+"');"+a.postfix}));return b=new XRegExp('(?<prefix><a.+?href=")javascript:(?<script>.+)(?<postfix>;*")',"gx"),c=XRegExp.replace(c,b,function(a){var b=COB.HtmlUtils.fixQuotes(a.script);return b=COB.HtmlUtils.Base64.encode(b),a.prefix+"javascript:parent.COB_AGENT.pushScript('"+b+"');"+a.postfix}),b=new XRegExp('<a.+?href="(?<url>.+?)"',"gx"),XRegExp.exec(a,b),XRegExp.replace(a,b,function(a){return"javascript"===a.url.substring(0,10)||null!==a.url.match(/.*\);*/)?"javascript"===a.url.substring(0,10)?a.replace(a.url,"javascript:parent.COB_AGENT.pushScript('"+COB.HtmlUtils.Base64.encode(a.url.substring(11))+"');"):a.replace(a.url,"javascript:parent.COB_AGENT.pushScript('"+COB.HtmlUtils.Base64.encode(a.url)+"');"):"#"===a.url[0]?a.replace(a.url,a.url):(COB.LOG.debug("Url is: "+a.url),a.replace(a.url,"javascript:parent.COB_AGENT.pushLink('"+a.url+"');"))})},makePushClicks:function(a){COB.LOG.trace("In makePushClicks: "+a);var b=new XRegExp('(?<prefix><.+?onclick=")javascript:(?<script>.+)(?<postfix>")',"gx"),c=(XRegExp.exec(a,b),XRegExp.replace(a,b,function(a){return a.prefix+"javascript:parent.COB_AGENT.pushScript('"+COB.HtmlUtils.Base64.encode(a.script)+"');"+a.postfix}));return b=new XRegExp('(?<prefix><.+?onclick=")(?<script>.+\\);*)(?<postfix>")',"gx"),c=XRegExp.replace(c,b,function(a){return a.prefix+"javascript:parent.COB_AGENT.pushScript('"+COB.HtmlUtils.Base64.encode(a.script)+"');"+a.postfix}),b=new XRegExp('<.+?onclick="(?<url>.+?)"',"gx"),XRegExp.exec(a,b),XRegExp.replace(a,b,function(a){return COB.LOG.debug("Url is: "+a.url),"javascript"===a.url.substring(0,10)||null!==a.url.match(/.*\);*/)?"javascript"===a.url.substring(0,10)?a.replace(a.url,"javascript:parent.COB_AGENT.pushScript('"+COB.HtmlUtils.Base64.encode(a.url.substring(11))+"');"):a.replace(a.url,"javascript:parent.COB_AGENT.pushScript('"+COB.HtmlUtils.Base64.encode(a.url)+"');"):"#"===a.url[0]?a.replace(a.url,a.url):(COB.LOG.debug("Url is: "+a.url),a.replace(a.url,"javascript:parent.COB_AGENT.pushLink('"+a.url+"');"))})},filterHtml:function(a){var b=function(a){var b=new XRegExp("(?<prefix>.*?style=[\"'])(?<styles>[-A-Z0-9+&@#/%?=~_|!:,.;\\s]*?)(?<postfix>[\"'].*)","gsi"),c=null!==XRegExp.exec(a.iframeTag,b);if(c){var d=XRegExp.replace(a.iframeTag,b,"${prefix}${styles}"+COB.config.frameBorderStyle+"${postfix}","all");return a.prefix+d+a.postfix}return a.prefix+a.iframeTag+' style="'+COB.config.frameBorderStyle+'"'+a.postfix},c=new XRegExp("(?<prefix><iframe)(?<iframeTag>.*?)(?<postfix>>.*?</iframe>)","gsi");XRegExp.exec(a,c),a=XRegExp.replace(a,c,b,"all"),this.debugHtml=a;var d=new RegExp('<div.*?id="cob_.*?</div>',"gm");return a=a.replace(d,""),d=new RegExp('<a.*?id="cob_.*?</a>',"gm"),a=a.replace(d,""),d=new RegExp('<p.*?id="cob_.*?</p>',"gm"),a=a.replace(d,""),d=new RegExp('<input.*?id="cob_.*?>',"gm"),a=a.replace(d,"")},expandStyles_org:function(a){COB.LOG.trace("Expanding CSS ");var b=function(a){if(COB.LOG.trace("Found style: "+a),!a.match(/text\/css/)&&!a.match(/stylesheet/))return COB.LOG.trace("Junk aborting: "+a),"";var b=a.match(/href\=\"(.*?)\"/);if(null!=b){var c=b[1],d=COB_USER.lookupStyle(c);return"styles"===d.type?(COB.LOG.trace("Added styles for url = "+b[1]+"\n"),"<style>"+d.data+"</style>"):(COB.LOG.trace("No match on the url = "+b[1]),'<link rel="stylesheet" type="text/css" href="'+d.data+'">')}return""},c=function(a){COB.LOG.trace("Found import: "+a);var b=a.match(/url\((.*?)\)/);if(null!=b){var c=b[1],d=COB_USER.lookupStyle(c);return"styles"===d.type?(COB.LOG.trace("Added styles for url = "+b[1]+"\n"),d.data):(COB.LOG.trace("No match on the url = "+b[1]),'<link rel="stylesheet" type="text/css" href="'+d.data+'">')}return""},d=new XRegExp('(?<prefix><iframe)(?<iframeTag>.*?)(?<postfix>>.*?</iframe>)<link.*?href="(.*?)".*?>',"gsi");XRegExp.exec(html,d),html=XRegExp.replace(html,d,iframeHandler,"all");for(var e=a.replace(/\<link.*?href\=\"(.*?)\".*?\>/g,b);e.match(/@import/);)e=e.replace(/\@import url\(.*?\);/g,c);
return"undefined"!==e?e:a},expandStyles:function(a){COB.LOG.trace("Expanding CSS ");for(var b=function(a){var b=new XRegExp("media=[\"'](?<media>.*?)[\"']>","gsi"),c=XRegExp.exec(a,b);if(null!==c&&COB.LOG.trace("Found media: "+c.media),!a.match(/text\/css/)&&!a.match(/stylesheet/))return COB.LOG.trace("Junk aborting: "+a),"";var d=a.match(/href\=\"(.*?)\"/);if(null!=d){var e=d[1],f=COB_USER.lookupStyle(e);return"styles"===f.type?(COB.LOG.trace("Added styles for url = "+d[1]+"\n"),null!==c?'<style media="'+c.media+'">'+f.data+"</style>":"<style>"+f.data+"</style>"):(COB.LOG.trace("No match on the url = "+d[1]),null!==c?'<link rel="stylesheet" type="text/css" href="'+f.data+'" media="'+c.media+'">':'<link rel="stylesheet" type="text/css" href="'+f.data+'">')}return""},c=function(a){COB.LOG.trace("Found import: "+a);var b=a.match(/url\((.*?)\)/);if(null!=b){var c=b[1],d=COB_USER.lookupStyle(c);return"styles"===d.type?(COB.LOG.trace("Added styles for url = "+b[1]+"\n"),d.data):(COB.LOG.trace("No match on the url = "+b[1]),'<link rel="stylesheet" type="text/css" href="'+d.data+'">')}return""},d=a.replace(/\<link.*?href\=\"(.*?)\".*?\>/g,b);d.match(/@import/);)d=d.replace(/\@import url\(.*?\);/g,c);return"undefined"!==d?d:a},externalLink:function(a){if(a.match(/^\//))return!1;if(a.match(/^\./))return!1;var b=new RegExp(COB.config.domain);return a.match(b)?(COB.LOG.trace("Match for link: "+a),!1):a.match(/^\/\//)?!0:a.match(/:\/\//)?!0:!1},externalLink_old:function(a){if(COB.LOG.info("In external lin with link="+a),a.match(/^\//))return!1;if(a.match(/^\./))return!1;var b=COB.config.protocol+"://"+COB.config.hostname,c=new RegExp("^"+b);return"80"===COB.config.port&&(COB.LOG.trace("Local domain = "+b),a.match(c))?(COB.LOG.trace("Match for link: "+a),!1):"443"===COB.config.port&&(COB.LOG.trace("Local domain = "+b),a.match(c))?(COB.LOG.trace("Match for link: "+a),!1):(b=b+":"+COB.config.port,c=new RegExp("^"+b),COB.LOG.trace("Local domain = "+b),a.match(c)?(COB.LOG.trace("Match for link: "+a),!1):(COB.LOG.trace("No match for link: "+a),a.match(/^\/\//)?!0:a.match(/:\/\//)?!0:!1))},Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=COB.HtmlUtils.Base64._utf8_encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return i},decode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)e=this._keyStr.indexOf(a.charAt(j++)),f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,i+=String.fromCharCode(b),64!=g&&(i+=String.fromCharCode(c)),64!=h&&(i+=String.fromCharCode(d));return i=COB.HtmlUtils.Base64._utf8_decode(i)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):d>191&&224>d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}},transformToSslLink:function(a,b,c){var d;d="undefined"==typeof COB.config.webSslPort?"":":"+COB.config.webSslPort,a.indexOf(c,a.indexOf(":")+3);var e="https://"+b+d+c,f=a.indexOf(c,a.indexOf(":")+3)+c.length;return COB.LOG.info("Full URL len = "+a.length),COB.LOG.info("End pos = "+f),0===f?e:(a.length>f&&(e+=a.substr(f)),e)}},COB.LOG={LEVEL:{LOCAL:{value:-1,description:"LOCAL"},TRACE:{value:0,description:"TRACE"},DEBUG:{value:1,description:"DEBUG"},INFO:{value:2,description:"INFO"},ERROR:{value:3,description:"ERROR"}},level:{value:3,description:"ERROR"},logDate:function(){"use strict";return this.formatDate(new Date,"yyyy-MM-dd hh:nn:ss")},trace:function(a){"use strict";this.level.value<=this.LEVEL.TRACE.value&&this.log(this.logDate()+": "+this.LEVEL.TRACE.description+": "+a)},debug:function(a){"use strict";this.level.value<=this.LEVEL.DEBUG.value&&this.log(this.logDate()+": "+this.LEVEL.DEBUG.description+": "+a)},info:function(a){"use strict";this.level.value<=this.LEVEL.INFO.value&&this.log(this.logDate()+": "+this.LEVEL.INFO.description+": "+a)},error:function(a){"use strict";this.level.value<=this.LEVEL.ERROR.value&&this.log(this.logDate()+": "+this.LEVEL.ERROR.description+": "+a)},log:function(a){"use strict";"undefined"!=typeof console&&console.log(a)},formatDate:function(a,b){if(a instanceof Date){var c=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),d=a.getFullYear(),e=d.toString().substring(2),f=a.getMonth()+1,g=10>f?"0"+f:f,h=c[f],i=a.getDate(),j=10>i?"0"+i:i,k=a.getHours(),l=10>k?"0"+k:k,m=a.getMinutes(),n=10>m?"0"+m:m,o=a.getSeconds(),p=10>o?"0"+o:o;return b=b.replace(/yyyy/i,d),b=b.replace(/yy/i,e),b=b.replace(/mmm/i,h),b=b.replace(/mm/i,g),b=b.replace(/m/i,f),b=b.replace(/dd/i,j),b=b.replace(/d/i,i),b=b.replace(/hh/i,l),b=b.replace(/h/i,k),b=b.replace(/nn/i,n),b=b.replace(/n/i,m),b=b.replace(/ss/i,p),b=b.replace(/s/i,o)}return""}},COB.BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},versionStr:function(){return this.init(),this.browser+":"+this.version+":"+this.OS},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;if(this.versionSearchString=a[b].versionSearch||a[b].identity,c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},"undefined"!=typeof jQuery&&(jQuery.urlParam=function(a,b){"use strict";var c=new RegExp("[\\?&]"+a+"=([^&#]*)").exec(b);return c?c[1]||0:0},function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{a=decodeURIComponent(a.replace(g," "))}catch(b){return}try{return h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)?(a.cookie(b,"",a.extend({},c,{expires:-1})),!0):!1}}));var COB_JQ_DRIVER={getCookie:function(a){"use strict";var b=jQuery.cookie(a);return"undefined"==typeof b?null:b},setCookie:function(a,b,c,d){"use strict";var e=new Date;e.setTime(e.getTime()+60*c*1e3),jQuery.cookie(a,b,{expires:e,domain:d,path:"/"})},deleteCookie:function(a,b){"use strict";jQuery.cookie(a,"",{path:"/",domain:b,expires:-1})},fixDot:function(a){"use strict";var b=a.replace(/\./g,"\\.");return b.replace(/\:/g,"\\:")},getUrlParam:function(a){"use strict";return jQuery.urlParam(a,window.location.href)},callWS:function(a){"use strict";jQuery.getJSON(a+"&callback=?")},callWS2:function(a){"use strict";jQuery.getJSON(a+"&callback=?")},getDocumentHeight:function(){return jQuery(document).height()},getPageData:function(){var a={};return a.url=document.location.href,a.width=jQuery(window).width(),a.height=jQuery(window).height(),a.head=jQuery("head").html(),a.body=jQuery("body").html(),a},getHtml:function(){return jQuery("html").html()},show:function(a){COB.LOG.debug("In show displaying#"+a),jQuery("#"+a).show()},hide:function(a){jQuery("#"+a).hide()},getScrollTop:function(){return jQuery(window).scrollTop()},setScrollTop:function(a){jQuery(window).scrollTop(a)},getValue:function(a){return jQuery(a).val()},setValue:function(a,b){jQuery(a).val(b)},setText:function(a,b){jQuery(a).html(b)},getAttr:function(a,b){return COB.LOG.trace("Get attr:"+a+":"+b),jQuery(a).attr(b)},setAttr:function(a,b,c){COB.LOG.info("Setting attribute: "+b+" with value: "+c+"on: "+a),jQuery(a).attr(b,c)},displayClick:function(a,b){var c=jQuery("#cob_cursor");c.stop(),c.show(),c.css("top",b-20+"px"),c.css("left",a-20+"px"),this.fadePos=10,this.fadeCount=0,COB_DRIVER.fadeClick()},fadePos:10,fadeCount:0,fadeClick:function(){this.removeClass("cob_cursor","cob_cursor_bkg"+this.fadePos),this.fadePos=this.fadePos-1,this.fadePos>9&&(this.fadePos=9),this.fadePos<2&&(this.fadePos=9,this.fadeCount=this.fadeCount+1),this.addClass("cob_cursor","cob_cursor_bkg"+this.fadePos),this.fadeCount<1?setTimeout("COB_DRIVER.fadeClick()",75):jQuery("#cob_cursor").css("display","none")},setStopMessage:function(a){jQuery("#cob_stop_button").html(a)},elementExists:function(a){return 0!==jQuery("#"+a).length},addClass:function(a,b){jQuery("#"+a).addClass(b)},removeClass:function(a,b){jQuery("#"+a).removeClass(b)},getDomElemFromSelector:function(a){return jQuery(a).get(0)}};if("undefined"!=typeof dojo){dojo.require("dojo.cookie"),dojo.require("dojo.io.script"),dojo.require("dijit.form.Button"),dojo.require("dijit.Dialog"),dojo.require("dojo.parser"),dojo.require("dijit.layout.ContentPane"),dojo.ready(function(){"use strict"});var COB_DOJO_DRIVER={getCookie:function(a){"use strict";var b=dojo.cookie(a);return void 0===b?null:dojo.cookie(a)},setCookie:function(a,b,c,d){"use strict";var e=new Date;e.setTime(e.getTime()+60*c*1e3),dojo.cookie(a,b,{expires:e,domain:d,path:"/"})},deleteCookie:function(a,b){"use strict";dojo.cookie(a,null,{path:"/",domain:b,expires:-1})},getUrlParam2:function(a,b){"use strict";var c,d=b.substring(b.indexOf("?")+1,b.length);return c=dojo.queryToObject(d),c[a]},getUrlParam:function(a){"use strict";return this.getUrlParam2(a,window.location.href)},callWS:function(a){"use strict";var b,c;b=new Date,c=a+"&stamp="+b.getTime(),dojo.io.script.get({url:c,cache:!1,callbackParamName:"callback",content:{q:"dojo"},load:function(a){console.info("Success: ",a)}})},getDocumentHeight:function(){return document.documentElement.scrollHeight},getPageData:function(){var a={},b=dojo.window.getBox();return a.url=location.href,a.width=b.w,a.height=b.h,a.head=dojo.query("head")[0].innerHTML,a.body=dojo.query("body")[0].innerHTML,a},getHtml:function(){return dojo.query("html")[0].innerHTML},show:function(a){COB.LOG.debug("In show displaying "+a);var b=dojo.byId(a);null!==b&&(b.style.display="block")},hide:function(a){COB.LOG.debug("In hide dealing with "+a);var b=dojo.byId(a);null!==b&&(b.style.display="none")},getScrollTop:function(){return window.pageYOffset},setScrollTop:function(a){window.scrollTo(0,a)},getValue:function(a){var b=dojo.query(a);return 0===b.length?void 0:b[0].value},setText:function(a,b){var c=dojo.query(a);0!==c.length&&(c[0].innerHTML=b)},getAttr:function(a,b){var c=dojo.query(a);return 0===c.length?void 0:dojo.attr(c[0],b)},setAttr:function(a,b,c){var d=dojo.query(a);0!==d.length&&dojo.attr(d[0],b,c)},displayClick:function(a,b){var c=dojo.byId("cob_cursor");this.fadePos=10,this.fadeCount=0,this.addClass("cob_cursor","cob_cursor_bkg"+this.fadePos),null!==c&&(c.style.display="block",c.style.opacity=1,c.style.top=b-20+"px",c.style.left=a-20+"px"),this.fadeClick()},fadePos:10,fadeCount:0,fadeClick:function(){var a=dojo.byId("cob_cursor");null!==a&&(this.removeClass("cob_cursor","cob_cursor_bkg"+this.fadePos),this.fadePos=this.fadePos-1,this.fadePos>9&&(this.fadePos=9),this.fadePos<2&&(this.fadePos=9,this.fadeCount=this.fadeCount+1),this.addClass("cob_cursor","cob_cursor_bkg"+this.fadePos),this.fadeCount<3?setTimeout("COB_DRIVER.fadeClick()",75):a.style.display="none")},setStopMessage:function(a){var b=dojo.byId("cob_stop_button");null!==b&&(b.text=a)},elementExists:function(a){var b=dojo.byId(a);return!(null===b||void 0===b)},addClass:function(a,b){var c=dojo.query("#"+a);0===c.length&&(c=dojo.query(a)),dojo.addClass(c[0],b)},removeClass:function(a,b){var c=dojo.query("#"+a);0===c.length&&(c=dojo.query(a)),dojo.removeClass(c[0],b)},getDomElemFromSelector:function(a){return dojo.query(a)[0]}}}var COB_orgJsClass="",COB_orgNoJsClass="";if("undefined"==typeof jQuery){var ht=dojo.query("html");dojo.hasClass(ht[0],"js")&&(COB_orgJsClass="js",console.log("JS")),dojo.hasClass(ht[0],"no-js")&&(COB_orgNoJsClass="no-js",console.log("NO  JS"))}else{var ht=jQuery("html");ht.hasClass("js")&&(COB_orgJsClass="js"),ht.hasClass("no-js")&&(COB_orgNoJsClass="no-js")}!function(a,b){"use strict";function c(a){l[l.length]=a}function d(a){var b=new RegExp(" ?\\b"+a+"\\b");k.className=k.className.replace(b,"")}function e(a,b){for(var c=0,d=a.length;d>c;c++)b.call(a,a[c],c)}function f(){k.className=k.className.replace(/ (w-|eq-|gt-|gte-|lt-|lte-|portrait|no-portrait|landscape|no-landscape)\d+/g,"");var b=a.innerWidth||k.clientWidth,d=a.outerWidth||a.screen.width;o.screen.innerWidth=b,o.screen.outerWidth=d,c("w-"+b),e(m.screens,function(a){b>a?(m.screensCss.gt&&c("gt-"+a),m.screensCss.gte&&c("gte-"+a)):a>b?(m.screensCss.lt&&c("lt-"+a),m.screensCss.lte&&c("lte-"+a)):b===a&&(m.screensCss.lte&&c("lte-"+a),m.screensCss.eq&&c("e-q"+a),m.screensCss.gte&&c("gte-"+a))});var f=a.innerHeight||k.clientHeight,g=a.outerHeight||a.screen.height;o.screen.innerHeight=f,o.screen.outerHeight=g,o.feature("portrait",f>b),o.feature("landscape",b>f)}function g(){a.clearTimeout(z),z=a.setTimeout(f,50)}var h=a.document,i=a.navigator,j=a.location,k=h.documentElement,l=[],m={screens:[240,320,480,640,768,800,1024,1280,1440,1680,1920],screensCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!1},browsers:[{ie:{min:6,max:11}}],browserCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!0},html5:!0,page:"-page",section:"-section",head:"head"};if(a.head_conf)for(var n in a.head_conf)a.head_conf[n]!==b&&(m[n]=a.head_conf[n]);var o=a[m.head]=function(){o.ready.apply(null,arguments)};o.feature=function(a,b,e){return a?("[object Function]"===Object.prototype.toString.call(b)&&(b=b.call()),c((b?"":"no-")+a),o[a]=!!b,e||(d("no-"+a),d(a),o.feature()),o):(k.className+=" "+l.join(" "),l=[],o)},o.feature("js",!0);var p=i.userAgent.toLowerCase(),q=/mobile|android|kindle|silk|midp|phone|(windows .+arm|touch)/.test(p);o.feature("mobile",q,!0),o.feature("desktop",!q,!0),p=/(chrome|firefox)[ \/]([\w.]+)/.exec(p)||/(iphone|ipad|ipod)(?:.*version)?[ \/]([\w.]+)/.exec(p)||/(android)(?:.*version)?[ \/]([\w.]+)/.exec(p)||/(webkit|opera)(?:.*version)?[ \/]([\w.]+)/.exec(p)||/(msie) ([\w.]+)/.exec(p)||/(trident).+rv:(\w.)+/.exec(p)||[];var r=p[1],s=parseFloat(p[2]);switch(r){case"msie":case"trident":r="ie",s=h.documentMode||s;break;case"firefox":r="ff";break;case"ipod":case"ipad":case"iphone":r="ios";break;case"webkit":r="safari"}o.browser={name:r,version:s},o.browser[r]=!0;for(var t=0,u=m.browsers.length;u>t;t++)for(var v in m.browsers[t])if(r===v){c(v);for(var w=m.browsers[t][v].min,x=m.browsers[t][v].max,y=w;x>=y;y++)s>y?(m.browserCss.gt&&c("gt-"+v+y),m.browserCss.gte&&c("gte-"+v+y)):y>s?(m.browserCss.lt&&c("lt-"+v+y),m.browserCss.lte&&c("lte-"+v+y)):s===y&&(m.browserCss.lte&&c("lte-"+v+y),m.browserCss.eq&&c("eq-"+v+y),m.browserCss.gte&&c("gte-"+v+y))}else c("no-"+v);c(r),c(r+parseInt(s,10)),m.html5&&"ie"===r&&9>s&&e("abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|progress|section|summary|time|video".split("|"),function(a){h.createElement(a)}),e(j.pathname.split("/"),function(a,d){if(this.length>2&&this[d+1]!==b)d&&c(this.slice(d,d+1).join("-").toLowerCase()+m.section);else{var e=a||"index",f=e.indexOf(".");f>0&&(e=e.substring(0,f)),k.id=e.toLowerCase()+m.page,d||c("root"+m.section)}}),o.screen={height:a.screen.height,width:a.screen.width},f();var z=0;a.addEventListener?a.addEventListener("resize",g,!1):a.attachEvent("onresize",g)}(window),function(a,b){"use strict";function c(a){for(var c in a)if(g[a[c]]!==b)return!0;return!1}function d(a){var b=a.charAt(0).toUpperCase()+a.substr(1),d=(a+" "+i.join(b+" ")+b).split(" ");return!!c(d)}var e=a.document,f=e.createElement("i"),g=f.style,h=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),i="Webkit Moz O ms Khtml".split(" "),j=a.head_conf&&a.head_conf.head||"head",k=a[j],l={gradient:function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(#fff));",c="linear-gradient(left top,#eee,#fff);";return g.cssText=(a+h.join(b+a)+h.join(c+a)).slice(0,-a.length),!!g.backgroundImage},rgba:function(){return g.cssText="background-color:rgba(0,0,0,0.5)",!!g.backgroundColor},opacity:function(){return""===f.style.opacity},textshadow:function(){return""===g.textShadow},multiplebgs:function(){g.cssText="background:url(https://),url(https://),red url(https://)";var a=(g.background||"").match(/url/g);return"[object Array]"===Object.prototype.toString.call(a)&&3===a.length},boxshadow:function(){return d("boxShadow")},borderimage:function(){return d("borderImage")},borderradius:function(){return d("borderRadius")},cssreflections:function(){return d("boxReflect")},csstransforms:function(){return d("transform")},csstransitions:function(){return d("transition")},touch:function(){return"ontouchstart"in a},retina:function(){return a.devicePixelRatio>1},fontface:function(){var a=k.browser.name,b=k.browser.version;switch(a){case"ie":return b>=9;case"chrome":return b>=13;case"ff":return b>=6;case"ios":return b>=5;case"android":return!1;case"webkit":return b>=5.1;case"opera":return b>=10;default:return!1}}};for(var m in l)l[m]&&k.feature(m,l[m].call(),!0);k.feature()}(window),function(a,b){"use strict";function c(){}function d(a,b){if(a){"object"==typeof a&&(a=[].slice.call(a));for(var c=0,d=a.length;d>c;c++)b.call(a,a[c],c)}}function e(a,c){var d=Object.prototype.toString.call(c).slice(8,-1);return c!==b&&null!==c&&d===a}function f(a){return e("Function",a)}function g(a){return e("Array",a)}function h(a){var b=a.split("/"),c=b[b.length-1],d=c.indexOf("?");return-1!==d?c.substring(0,d):c}function i(a){a=a||c,a._done||(a(),a._done=1)}function j(a,b,d,e){var f="object"==typeof a?a:{test:a,success:b?g(b)?b:[b]:!1,failure:d?g(d)?d:[d]:!1,callback:e||c},h=!!f.test;return h&&f.success?(f.success.push(f.callback),E.load.apply(null,f.success)):!h&&f.failure?(f.failure.push(f.callback),E.load.apply(null,f.failure)):e(),E}function k(a){var b={};if("object"==typeof a)for(var c in a)a[c]&&(b={name:c,url:a[c]});else b={name:h(a),url:a};var d=B[b.name];return d&&d.url===b.url?d:(B[b.name]=b,b)}function l(a){a=a||B;for(var b in a)if(a.hasOwnProperty(b)&&a[b].state!==I)return!1;return!0}function m(a){a.state=G,d(a.onpreload,function(a){a.call()})}function n(a){a.state===b&&(a.state=F,a.onpreload=[],s({url:a.url,type:"cache"},function(){m(a)}))}function o(){var a=arguments,b=a[a.length-1],c=[].slice.call(a,1),e=c[0];return f(b)||(b=null),g(a[0])?(a[0].push(b),E.load.apply(null,a[0]),E):(e?(d(c,function(a){!f(a)&&a&&n(k(a))}),q(k(a[0]),f(e)?e:function(){E.load.apply(null,c)})):q(k(a[0])),E)}function p(){var a=arguments,b=a[a.length-1],c={};return f(b)||(b=null),g(a[0])?(a[0].push(b),E.load.apply(null,a[0]),E):(d(a,function(a){a!==b&&(a=k(a),c[a.name]=a)}),d(a,function(a){a!==b&&(a=k(a),q(a,function(){l(c)&&i(b)}))}),E)}function q(a,b){return b=b||c,a.state===I?(b(),void 0):a.state===H?(E.ready(a.name,b),void 0):a.state===F?(a.onpreload.push(function(){q(a,b)}),void 0):(a.state=H,s(a,function(){a.state=I,b(),d(A[a.name],function(a){i(a)}),x&&l()&&d(A.ALL,function(a){i(a)})}),void 0)}function r(a){a=a||"";var b=a.split("?")[0].split(".");return b[b.length-1].toLowerCase()}function s(b,d){function e(b){b=b||a.event,h.onload=h.onreadystatechange=h.onerror=null,d()}function f(c){c=c||a.event,("load"===c.type||/loaded|complete/.test(h.readyState)&&(!y.documentMode||y.documentMode<9))&&(a.clearTimeout(b.errorTimeout),a.clearTimeout(b.cssTimeout),h.onload=h.onreadystatechange=h.onerror=null,d())}function g(){if(b.state!==I&&b.cssRetries<=20){for(var c=0,d=y.styleSheets.length;d>c;c++)if(y.styleSheets[c].href===h.href)return f({type:"load"}),void 0;b.cssRetries++,b.cssTimeout=a.setTimeout(g,250)}}d=d||c;var h,i=r(b.url);"css"===i?(h=y.createElement("link"),h.type="text/"+(b.type||"css"),h.rel="stylesheet",h.href=b.url,b.cssRetries=0,b.cssTimeout=a.setTimeout(g,500)):(h=y.createElement("script"),h.type="text/"+(b.type||"javascript"),h.src=b.url),h.onload=h.onreadystatechange=f,h.onerror=e,h.async=!1,h.defer=!1,b.errorTimeout=a.setTimeout(function(){e({type:"timeout"})},7e3);var j=y.head||y.getElementsByTagName("head")[0];j.insertBefore(h,j.lastChild)}function t(){for(var a=y.getElementsByTagName("script"),b=0,c=a.length;c>b;b++){var d=a[b].getAttribute("data-headjs-load");if(d)return E.load(d),void 0}}function u(a,b){if(a===y)return x?i(b):z.push(b),E;if(f(a)&&(b=a,a="ALL"),g(a)){var c={};return d(a,function(a){c[a]=B[a],E.ready(a,function(){l(c)&&i(b)})}),E}if("string"!=typeof a||!f(b))return E;var e=B[a];if(e&&e.state===I||"ALL"===a&&l()&&x)return i(b),E;var h=A[a];return h?h.push(b):h=A[a]=[b],E}function v(){return y.body?(x||(x=!0,t(),d(z,function(a){i(a)})),void 0):(a.clearTimeout(E.readyTimeout),E.readyTimeout=a.setTimeout(v,50),void 0)}function w(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",w,!1),v()):"complete"===y.readyState&&(y.detachEvent("onreadystatechange",w),v())}var x,y=a.document,z=[],A={},B={},C="async"in y.createElement("script")||"MozAppearance"in y.documentElement.style||a.opera,D=a.head_conf&&a.head_conf.head||"head",E=a[D]=a[D]||function(){E.ready.apply(null,arguments)},F=1,G=2,H=3,I=4;if("complete"===y.readyState)v();else if(y.addEventListener)y.addEventListener("DOMContentLoaded",w,!1),a.addEventListener("load",v,!1);else{y.attachEvent("onreadystatechange",w),a.attachEvent("onload",v);var J=!1;try{J=!a.frameElement&&y.documentElement}catch(K){}J&&J.doScroll&&!function L(){if(!x){try{J.doScroll("left")}catch(b){return a.clearTimeout(E.readyTimeout),E.readyTimeout=a.setTimeout(L,50),void 0}v()}}()}E.load=E.js=C?p:o,E.test=j,E.ready=u,E.ready(y,function(){l()&&d(A.ALL,function(a){i(a)}),E.feature&&E.feature("domloaded",!0)})}(window);var COB_USER={SESS_NEW:"0",SESS_VALIDATED:"1",SESS_CONTACT_INITIATED:"2",SESS_ACCEPTED:"3",SESS_DO_NOT_DISTURB:"4",SESS_STOPPED:"5",pushDestination:"",overlayCreated:!1,lastX:0,lastY:0,lastSentX:0,lastSentY:0,oldMessage:"",oldHtmlClasses:"",session:{},valDb:{},sendUpdatedValues:function(){var a=function(a){var c="";for(b=0;b<a.length;b++){c="";var d=a[b],e={type:"change",id:"",name:"",val:""};""!==d.id?(c="#"+d.id,e.id=d.id):""!==d.name&&(c="[name="+d.name+"]",e.name=d.name),e.val=d.value,e.inputType=d.type;var f=!1,g="";if("radio"===e.inputType||"checkbox"===e.inputType?(""===e.id&&(c=c+"[value="+e.val+"]"),e.checked=d.checked,f=!0,g=d.checked):g=d.value,0!==c.length){("true"===COB_DRIVER.getAttr(c,"data-filter")||"password"===COB_DRIVER.getAttr(c,"type"))&&"radio"!==e.inputType&&"checkbox"!==e.inputType&&e.val.length>0&&(e.val="##########");var h;h="undefined"==typeof COB_USER.valDb[c]?!0:COB_USER.valDb[c]!==g,h&&(COB.WS.send(e),COB_USER.valDb[c]=g)}}},b=0,c=document.getElementsByTagName("input");a(c),c=document.getElementsByTagName("select"),a(c),c=document.getElementsByTagName("textarea"),a(c)},mouseMoveHandler:function(a){var b=500;"undefined"!=typeof COB.config.sysParams&&"undefined"!=typeof COB.config.sysParams.rate&&(b=COB.config.sysParams.rate);var c=Math.floor(101*Math.random());if(10>c&&COB.touch(),b>=c||Math.abs(a.clientX-this.lastSentX)>100||Math.abs(a.clientSentY-this.lastY)>100){var d={type:"mousemove",x:"",y:""};d.x=a.clientX+window.pageXOffset,d.y=a.clientY+COB_DRIVER.getScrollTop(),COB.LOG.trace("Sending: "+JSON.stringify(d)),COB.WS.send(d),this.lastSentX=a.clientX,this.lastSentY=a.clientY}COB_USER.lastX=a.clientX,COB_USER.lastY=a.clientY},myEl:{},sendStyles:function(){var a;if("undefined"!=typeof COB.config.hoverElements)for(a=0;COB.config.hoverElements.length;a++){var b={type:"mousein",selector:"unknown",style:""},c=COB_DRIVER.getDomElemFromSelector(COB.config.hoverElements[a]);if(void 0===c)return;b.selector=COB.config.hoverElements[a],b.style=COB_USER.getStylesFromElem(c),b.style!==COB_USER.styleCache[b.selector]?(COB_USER.styleCache[b.selector]=b.style,COB.LOG.debug("Styles updated. Sending styles for: "+b.selector),COB.WS.send(b)):COB.LOG.trace("Style not updated")}},calculateFullPath:function(a){for(var b=[];a.parentNode&&"HTML"!==a.parentNode.tagName;){if(a.id){b.unshift("#"+a.id);break}if(a===a.ownerDocument.documentElement)b.unshift(a.tagName);else{for(var c=1,d=a;d.previousElementSibling;d=d.previousElementSibling,c++);b.unshift(a.tagName+":nth-child("+c+")")}a=a.parentNode}return b.join(" > ")},getStylesFromElem:function(a){var b,c=window.getComputedStyle(a,null),d=window.getComputedStyle(a.parentElement,null),e="";if(null===c)return"";var f,g;for(b=0;b<c.length;b++)f=c.getPropertyValue(c[b]),g=d.getPropertyValue(c[b]),e=e+c[b]+":"+f+";";return e},setupBindings:function(){document.onmousemove=COB_USER.mouseMoveHandler,document.onchange=function(a){var b={type:"change",id:"",name:"",val:""},c="";c="undefined"!==COB_DRIVER.getValue("#"+a.target.id)&&""!==a.target.id?"#"+a.target.id:"[name="+a.target.name+"]",COB.LOG.info("Selector: "+c),0!==c.length&&(b.id=a.target.id,b.name=a.target.name,b.val=a.target.value,b.inputType=a.target.type,b.checked=a.target.checked,("true"===COB_DRIVER.getAttr(c,"data-filter")||"password"===COB_DRIVER.getAttr(c,"type"))&&"radio"!==b.inputType&&"checkbox"!==b.inputType&&b.val.length>0&&(b.val="##########"),COB.WS.send(b))},window.onscroll=function(){if(COB_USER.skipNextScroll)return COB.LOG.trace("Skipping scroll event"),COB_USER.skipNextScroll=!1,void 0;var a={type:"scroll",top:""};COB.LOG.info("scrolling: "+COB_DRIVER.getScrollTop()),a.top=COB_DRIVER.getScrollTop(),COB.WS.send(a)},window.onresize=function(){var a={type:"resize",clientWidth:"",clientHeight:"",documentWidth:"",documentHeight:""};a.clientWidth=document.documentElement.clientWidth,a.clientHeight=document.documentElement.clientHeight,a.documentWidth=document.documentElement.scrollWidth,a.documentHeight=COB_DRIVER.getDocumentHeight(),COB.WS.send(a)}},started:!1,haveSession:function(){return null!==this.session&&null!==this.session.key},readSessionInfo:function(){var a={};return a.type="user",a.key=COB_DRIVER.getCookie("cob_key"),a.accept=COB_DRIVER.getCookie("cob_accept"),a.cobUrl=COB_DRIVER.getCookie("cob_ws_url"),a.privateKey=COB_DRIVER.getCookie("cob_privateKey"),null===a.key?null:a},writeSessionInfo:function(a){COB.LOG.debug("Writing session info: "+a.cobUrl),COB_DRIVER.setCookie("cob_key",a.key,COB.config.sessionTime,COB.config.domain),COB_DRIVER.setCookie("cob_privateKey",a.privateKey,COB.config.sessionTime,COB.config.domain),COB_DRIVER.setCookie("cob_accept",a.accept,COB.config.sessionTime,COB.config.domain),COB_DRIVER.setCookie("cob_ws_url",a.cobUrl,COB.config.sessionTime,COB.config.domain)},createUUID:function(){"use strict";var a,b,c=[],d="0123456789abcdef";for(b=0;36>b;b++)c[b]=d.substr(Math.floor(16*Math.random()),1);return c[14]="4",c[19]=d.substr(3&c[19]|8,1),c[8]=c[13]=c[18]=c[23]="-",a=c.join("")},startCoBrowsing:function(){COB_DRIVER.hide("cob_message_panel"),COB_DRIVER.hide("cob_overlay"),this.session.accept=COB_USER.SESS_ACCEPTED,this.writeSessionInfo(this.session),COB.State.setState(COB.State.STATE_COB)},startCOB:function(){COB.setStateInProg(),COB.LOG.debug("COB was Accepted - STARTING!!");var a=COB_DRIVER.getPageData();a.clientWidth=document.documentElement.clientWidth,a.clientHeight=document.documentElement.clientHeight,a.documentWidth=document.documentElement.scrollWidth,a.documentHeight=COB_DRIVER.getDocumentHeight(),a.type="init",a.hostname=COB.config.hostname,a.port=COB.config.port,a.centeredSite=COB.config.centeredSite;var b=COB_DRIVER.getHtml().match(/\<body(.*?)>/m);a.bodyTag=null!=b?b[0]:"<body>",a.body=COB.HtmlUtils.expandStyles(a.body),a.body=COB.HtmlUtils.filterHtml(a.body),a.htmlClasses=COB_DRIVER.getAttr("html","class"),COB_USER.oldMessage=a.body,COB_USER.oldHtmlClasses=a.htmlClasses,COB.LOG.debug("Starting cobrowsing"),COB.WS.ws&&COB.WS.ws.send(JSON.stringify(a)),COB_USER.updateTimeoutId>0&&clearTimeout(COB_USER.updateTimeoutId),COB_USER.updateTimeoutId=setTimeout("COB_USER.sendUpdate()",1e3),COB_DRIVER.show("cob_stop_button")},injectHtml:function(){if(COB.LOG.debug("Injecting html"),!COB_DRIVER.elementExists("cob_message_panel")){var a=document.createElement("div");a.id="cob_message_panel",a.setAttribute("style","display:none;"),a.innerHTML="<p id='cob_dialog_p'>"+COB.getStr("startQuery")+"</p>",a.innerHTML=a.innerHTML+'<a href=# class="cob_button cob_style_green" style="color:white" onclick="COB_USER.startCoBrowsing();" id="buttonYes">'+COB.getStr("buttonYes")+"</a>",a.innerHTML=a.innerHTML+'<a href=# class="cob_button cob_style_gray" style="color:white" onclick="COB_USER.optOut();" id="buttonNo">'+COB.getStr("buttonNo")+"</a>",document.getElementsByTagName("body")[0].appendChild(a)}if(!COB_DRIVER.elementExists("cob_overlay")){var b=document.createElement("div");b.setAttribute("class","cob_overlay"),b.id="cob_overlay",b.setAttribute("style","display:none;"),document.getElementsByTagName("body")[0].appendChild(b),COB_USER.overlayCreated=!0;var c=document.createElement("div");c.id="cob_cursor",document.getElementsByTagName("body")[0].appendChild(c)}if(!COB_DRIVER.elementExists("cob_stop_button")){var d=document.createElement("div");d.display="none",d.id="cob_stop_button",d.innerHTML=COB.getStr("stopSharing"),d.setAttribute("class","cob_stop cob_style_orange"),d.setAttribute("onclick","COB_USER.stopCoBrowsing()"),d.setAttribute("style","display:none;"),document.getElementsByTagName("body")[0].appendChild(d)}if(!COB_DRIVER.elementExists("cob_dialog")){var e=document.createElement("div");e.id="cob_dialog",e.innerHTML='<p id="userRedirectQuery">'+COB.getStr("userRedirectQuery")+"</p>",e.innerHTML=e.innerHTML+'<a href="#" id="linkId" class="cob_button cob_style_green" onclick="COB_USER.hidePageChangeWarning();" style="color:white" target="_blank">'+COB.getStr("buttonYes")+"</a>",e.innerHTML=e.innerHTML+'<a href=# id="buttonStay" class="cob_button cob_style_gray" style="color:white" onclick="COB_USER.hidePageChangeWarning();">'+COB.getStr("buttonNo")+"</a>",e.setAttribute("style","display:none;"),document.getElementsByTagName("body")[0].appendChild(e)
}if(!COB_DRIVER.elementExists("cob_entry_dialog")){var f=document.createElement("div");f.id="cob_entry_dialog",f.innerHTML='<div id="cob_engine_error"><h2 id="cob_engine_error_header">'+COB.getStr("no_cob_engine")+'</h2><a href=# id="cob_try_again_button" class="cob_button cob_style_green cob_style_small" style="color:white" onclick="COB_USER.hideCobUnavail();">'+COB.getStr("try_again")+'</div><a id="cob_entry_close" href="#" onclick="javascript:COB_USER.hideCodeEntry();return false;"></a>',f.innerHTML=f.innerHTML+'<p id="cob_connect_header">'+COB.getStr("connectToAgent")+'</p><input type="text" id="cob_code" onkeypress="return COB_USER.keyCharPressed(event);" placeholder="'+COB.getStr("enterCode")+'">',f.innerHTML=f.innerHTML+'<div id="cob_loading" style="color:white"></div><a href=# id="cob_code_button" onclick="COB_USER.connectWithNewKey();" class="cob_button cob_style_green">'+COB.getStr("buttonOK")+"</a>",document.getElementsByTagName("body")[0].appendChild(f)}if(!COB_DRIVER.elementExists("cob_start_button")&&COB.cobSupported()){var g=document.createElement("div");g.id="cob_start_button",g.innerHTML='<a href="#" onclick="javascript:COB_USER.showCodeEntry();return false;"></a>',document.getElementsByTagName("body")[0].appendChild(g)}},updateHtml:function(){COB_DRIVER.setText("#cob_engine_error_header",COB.getStr("no_cob_engine")),COB_DRIVER.setText("#cob_try_again_button",COB.getStr("try_again")),COB_DRIVER.setText("#cob_connect_header",COB.getStr("connectToAgent")),COB_DRIVER.setAttr("#cob_code","placeholder",COB.getStr("enterCode")),COB_DRIVER.setText("#cob_code_button",COB.getStr("buttonOK")),COB_DRIVER.setText("#cob_dialog_p",COB.getStr("startQuery")),COB_DRIVER.setText("#buttonYes",COB.getStr("buttonYes")),COB_DRIVER.setText("#buttonNo",COB.getStr("buttonNo")),COB_DRIVER.setText("#cob_stop_button",COB.getStr("stopSharing")),COB_DRIVER.setText("#userRedirectQuery",COB.getStr("userRedirectQuery")),COB_DRIVER.setText("#linkId",COB.getStr("buttonYes")),COB_DRIVER.setText("#buttonStay",COB.getStr("buttonNo"))},updateTimeoutId:-1,showStopPanel:function(){COB_DRIVER.show("cob_stop_button")},showCodeEntry:function(){COB_DRIVER.show("cob_overlay"),COB_DRIVER.show("cob_entry_dialog"),COB_DRIVER.show("cob_code_button"),COB_DRIVER.hide("cob_loading"),document.getElementById("cob_code").focus()},hideCodeEntry:function(){COB_DRIVER.hide("cob_overlay"),COB_DRIVER.hide("cob_entry_dialog"),COB_DRIVER.hide("cob_code_button"),COB_DRIVER.show("cob_loading"),COB_DRIVER.hide("cob_engine_error"),COB_DRIVER.setValue("#cob_code","")},showCobUnavail:function(){COB.LOG.error("############# NO COB ENGINE ##################"),COB_DRIVER.show("cob_overlay"),COB_DRIVER.show("cob_entry_dialog"),COB_DRIVER.show("cob_engine_error"),COB_DRIVER.hide("cob_loading")},hideCobUnavail:function(){COB_DRIVER.show("cob_overlay"),COB_DRIVER.show("cob_entry_dialog"),COB_DRIVER.hide("cob_engine_error"),COB_DRIVER.show("cob_code_button")},stopCoBrowsing:function(){COB.LOG.info("User requesting stop co browsing to stop"),COB.State.val!==COB.State.STATE_DOWN&&COB.State.setState(COB.State.STATE_TERMINATED)},COBEngineValidation:function(a,b){COB.LOG.debug("Got result from cob engine validation["+b+"]: "+a),a&&(clearTimeout(COB_USER.cobEngineSearchTimeout),this.session.cobUrl=this.serverList[b].url,COB_USER.writeSessionInfo(this.session),this.init(),COB_DRIVER.hide("cob_overlay"),COB_DRIVER.hide("cob_entry_dialog"))},serverList:[],cobEngineSearchTimeout:void 0,connectWithNewKey:function(){this.session.type="user",this.session.key=COB_DRIVER.getValue("#cob_code").replace(/\s+/g,""),this.session.privateKey=this.createUUID(),this.session.accept=COB_USER.SESS_CONTACT_INITIATED,COB_DRIVER.hide("cob_code_button"),COB_DRIVER.show("cob_loading"),this.serverList=JSON.parse(COB_DRIVER.getCookie("cob_https_list")),COB_USER.cobEngineSearchTimeout=setTimeout("COB_USER.showCobUnavail()",3e3);var a;for(a=0;a<this.serverList.length;a++){COB.LOG.debug("Checking cob engine for registered key from agent: "+this.serverList[a].url);var b="https://"+this.serverList[a].url+"/ws/findHome.yaws?ref="+this.session.key+"&pos="+a;COB_DRIVER.callWS(b)}},keyCharPressed:function(a){(13===a.which||13===a.keyCode)&&this.connectWithNewKey()},optOut:function(){COB.WS.send('{"type":"connection_status","status":"stopped"}'),COB_DRIVER.hide("cob_message_panel"),COB_DRIVER.hide("cob_overlay")},applyChange:function(a){COB.LOG.info("change: ("+a.id+","+a.name+","+a.val+")");var b;b=""!==a.id?"#"+a.id:"[name="+a.name+"]",COB.LOG.info(b+":"+a.inputType),"radio"===a.inputType||"checkbox"===a.inputType?(b=b+"[value="+a.val+"]",COB.LOG.info(b+":"+a.inputType),COB_DRIVER.setAttr(b,"checked",a.checked)):(COB.LOG.info("Setting value: "+b+":"+a.inputType),COB_DRIVER.setValue(b,a.val))},showPageChangeWarning:function(a){COB_DRIVER.show("cob_overlay"),COB_DRIVER.show("cob_dialog"),COB_USER.pushDestination=a},hidePageChangeWarning:function(){COB_DRIVER.hide("cob_overlay"),COB_DRIVER.hide("cob_dialog")},push:function(){""!==COB_USER.pushDestination?(COB.LOG.info("Redirecting to: ("+COB_USER.pushDestination+")"),window.location.href=COB_USER.pushDestination):COB.LOG.info("Trying to redirect user but destination unknown, aborting")},displayClick:function(a,b){COB_DRIVER.displayClick(a,b)},setScroll:function(a){COB.LOG.trace("GoT scroll: "+a),COB_DRIVER.setScrollTop(a)},fetchContent:function(a){COB.LOG.trace("Trying to fetch the style sheet xxx (css req)");var b={type:"css",url:a,text:"/* Failed fetching "+a+"*/"};if(a.match(/favicon.ico$/))COB.WS.send(b);else{var c=new XMLHttpRequest;try{c.open("GET",a,!1),c.send(null),b.text=c.responseText}catch(d){COB.LOG.info("Failed to fetch css (fetchCon)"+a)}COB.WS.ws&&(COB.LOG.trace("All systems go... sending css"),COB.WS.send(b))}},getStyleSheet:function(a){COB.LOG.trace("Trying to fetch the style sheet ...");var b=new XMLHttpRequest,c={};c.data=a,c.type="link";try{a.match(/.*offer/)&&COB.LOG.trace("getStyleSheet offer"),b.open("GET",a,!1),b.send(null),200==b.status&&(c.data=b.responseText,c.type="styles")}catch(d){a.match(/.*offer/)&&COB.LOG.trace("getStyleSheet offer catch"),COB.LOG.trace("Failed to fetch css (gsty) "+a)}return c},debugHtml:"",handleTimeout:function(){COB_DRIVER.hide("cob_stop_button")},styleCache:{},lookupStyle:function(a){if(COB.LOG.trace("Looking up style: "+a),"undefined"!=typeof COB_USER.styleCache[a])return COB_USER.styleCache[a];COB.LOG.trace("Nothing in cache");var b={},c="";if(localUrl=a.replace(/&amp\;/g,"&"),"undefined"==typeof document.styleSheets)return COB_USER.styleCache[a]="","";for(var d=0;d<document.styleSheets.length;d++)if(null!==document.styleSheets[d].href){COB.LOG.trace("fullUrl="+document.styleSheets[d].href);var e=document.styleSheets[d].href,f=e.substring(e.length-localUrl.length,e.length);if(f===localUrl){try{if(COB.LOG.trace("Match on ("+d+"): "+localUrl),localUrl.match(/include/)&&COB.LOG.info("Match on ("+d+"): "+localUrl),null!==document.styleSheets[d].cssRules){for(var g=0;g<document.styleSheets[d].cssRules.length;g++)c+=document.styleSheets[d].cssRules[g].cssText;localUrl.match(/include/)&&COB.LOG.info("Got style: "+c),b.data=COB.HtmlUtils.fixLinks(e,c),b.type="styles"}else localUrl.match(/include/)&&COB.LOG.info("Styles not avilable from the browser chromium style: "),b=COB_USER.getStyleSheet(e)}catch(h){localUrl.match(/include/)&&COB.LOG.info("Styles not avilable from the browser FF style: "),b=COB_USER.getStyleSheet(e)}return localUrl.match(/include/)&&(COB.LOG.error("Done forsider found:"),COB.LOG.error("Full url:"+e),COB.LOG.error("Type:"+b.type),COB.LOG.error("Data:"+b.data)),"styles"===b.type&&(b.data=COB.HtmlUtils.fixLinks(e,b.data)),COB_USER.styleCache[a]=b,COB_USER.styleCache[a]}}return COB.LOG.error("No match for mystery url:"+localUrl),b=COB_USER.getStyleSheet(a),"styles"===b.type&&(COB.LOG.trace("Found:"+b.data),b.data=COB.HtmlUtils.fixLinks(a,b.data)),COB_USER.styleCache[a]=b,COB_USER.styleCache[a]},makeCobUrl:function(a){var b;return COB.WS.session.accept===COB_USER.SESS_VALIDATED?(COB.WS.session.accept=COB_USER.SESS_CONTACT_INITIATED,COB_USER.writeSessionInfo(COB.WS.session),COB.WS.connect(COB.WS.session)):COB.LOG.info("No updating of accept state. Current accept state: "+COB.WS.session.accept),b=COB.cobSupported()?a+"&coopSessionKey="+COB.WS.session.key+"&coopSessionType=COB&coopSessionSrvUrl="+encodeURIComponent(COB.WS.session.cobUrl+"/agent.html"):a+"&coopErrorReason=browserNotSupported"},makeCobFloatingChatUrl:function(a,b){var c;c="undefined"!=typeof COB.config.chatFloatingFrameUrl?COB.config.chatFloatingFrameUrl:"/"===COB.config.baseUrl.substr(-1)?COB.config.baseUrl+"chat.html":COB.config.baseUrl+"/chat.html",COB.WS.session.accept===COB_USER.SESS_VALIDATED?(COB.WS.session.accept=COB_USER.SESS_CONTACT_INITIATED,COB_USER.writeSessionInfo(COB.WS.session),COB.WS.connect(COB.WS.session)):COB.LOG.info("No updating of accept state. Current accept state: "+COB.WS.session.accept);var d=b;b.match(/coopSessionKey/)||b.match(/coopErrorReason/)||(d=COB.cobSupported()?b+"&coopSessionKey="+COB.WS.session.key+"&coopSessionType=COB&coopSessionSrvUrl="+encodeURIComponent(COB.WS.session.cobUrl+"/agent.html"):b+"&coopErrorReason=browserNotSupported");var e=c+"?page="+encodeURIComponent(a)+"&chat="+encodeURIComponent(d);return e},checkForStyleSheet:function(){for(i=0;i<document.styleSheets.length;i++)if("COB"===document.styleSheets[i].title)return!0;return!1},sendUpdate:function(){COB_USER.sendStyles();var a=COB_DRIVER.getPageData();a.body=COB.HtmlUtils.expandStyles(a.body),a.body=COB.HtmlUtils.filterHtml(a.body),a.htmlClasses=COB_DRIVER.getAttr("html","class"),a.type="htmlUpdate",!COB.WS.ws||a.body===COB_USER.oldMessage&&a.htmlClasses===COB_USER.oldHtmlClasses||(COB.WS.send(a),COB_USER.oldMessage=a.body,COB_USER.oldHtmlClasses=a.htmlClasses);var b={type:"mousemove",x:"",y:""};b.x=COB_USER.lastX,b.y=COB_USER.lastY;var c=1500;"undefined"!=typeof COB.config.sysParams&&"undefined"!=typeof COB.config.sysParams.refresh&&(c=COB.config.sysParams.refresh),COB_USER.sendUpdatedValues(),COB_USER.updateTimeoutId>0&&clearTimeout(COB_USER.updateTimeoutId),COB_USER.updateTimeoutId=setTimeout("COB_USER.sendUpdate()",c)},lastHeartBeat:new Date,heartBeatTimeout:-1,updateHeartBeat:function(){if(new Date-COB_USER.lastHeartBeat>2e3)clearTimeout(COB_USER.heartBeatTimeout),COB.State.setState(COB.State.STATE_DOWN);else{var a={type:"ping"};COB.WS.send(a),COB_USER.heartBeatTimeout=setTimeout("COB_USER.updateHeartBeat()",1e3)}},handleMessage:function(message){switch(message.type){case"connection_status":COB.LOG.debug("Got connection status with staus = "+message.status+" Initiator: "+COB.WS.session.type),"ready"===message.status&&(COB_USER.session.accept===COB_USER.SESS_ACCEPTED?COB.State.setState(COB.State.STATE_COB):COB.State.setState(COB.State.STATE_IN_INIT)),"stopped"===message.status&&COB.State.setState(COB.State.STATE_STOPPED),"timeout"===message.status&&COB.State.setState(COB.State.STATE_TIMEOUT),"terminated"===message.status&&COB.State.setState(COB.State.STATE_TERMINATED);break;case"change":COB_USER.applyChange(message);break;case"push":COB.HtmlUtils.externalLink(message.url)?(COB_DRIVER.setAttr("#linkId","href",message.url),COB_USER.showPageChangeWarning(message.url)):(COB_USER.pushDestination=message.url,COB_USER.push());break;case"pong":COB.LOG.debug("PONG");break;case"getCss":COB.LOG.info("Fetching: "+message.url),COB_USER.fetchContent(message.url);break;case"agentClick":COB.LOG.debug("Got click event from agent"),COB.LOG.trace("Before: "+JSON.stringify(message));var coord=COB.translateCoord(message);COB.LOG.trace("After: "+JSON.stringify(coord)),COB_USER.displayClick(coord.x,coord.y);break;case"conf":COB.LOG.debug("Got configuration from the other side"),void 0!==typeof message.cobSessionTimeout&&(COB.config.sessionTime=message.cobSessionTimeout,COB_USER.writeSessionInfo(this.session)),COB.config.sysParams=message,COB.remoteClientWidth=message.clientWidth,COB.remoteDocumentWidth=message.documentWidth;break;case"scroll":COB_USER.skipNextScroll=!0,COB_USER.setScroll(message.top);break;case"inactive":COB_DRIVER.hide("cob_stop_button"),COB_DRIVER.hide("cob_overlay"),COB_DRIVER.hide("cob_message_panel");break;case"pushScript":var link=COB.HtmlUtils.Base64.decode(message.url);link=link.replace(/\&quot\;/g,"'"),COB.LOG.debug("Got javascript link: "+link),eval(link),COB.LOG.debug("Done");break;case"invalid":COB.LOG.info("Was not Json:"+e.data),COB.LOG.info("Message:"+message)}},setStateStart:function(){},setStateDown:function(){COB.LOG.info("Connnection is down"),COB.setStateTimeout(),setTimeout("COB.reconnect()",2e3)},setStateTimeout:function(){COB.state="timeout",COB.WS.state="timeout",COB.WS.ws.close(),COB_USER.handleTimeout()},setStateTerminated:function(){COB.LOG.info("Done, removing the session"),COB_DRIVER.hide("cob_stop_button"),COB_DRIVER.hide("cob_overlay"),COB_DRIVER.hide("cob_message_panel"),COB_DRIVER.show("cob_start_button"),COB_DRIVER.deleteCookie("cob_key",COB.config.domain),COB_DRIVER.deleteCookie("cob_accept",COB.config.domain),COB.WS.send({type:"connection_status",status:"stopped"}),COB.WS.state="closed",COB.WS.ws.close()},setStateStopped:function(){this.session.accept=COB_USER.SESS_CONTACT_INITIATED,this.writeSessionInfo(this.session),COB.LOG.info("Stopping session"),COB_DRIVER.hide("cob_stop_button"),COB_DRIVER.hide("cob_overlay"),COB_DRIVER.hide("cob_message_panel"),COB.WS.session.accept=COB_USER.SESS_TERMINATED,COB_USER.writeSessionInfo(this.session)},setStateCob:function(){COB.LOG.info("Setting state to COB ...."),COB_USER.startCOB(),COB_USER.showStopPanel(),COB_DRIVER.hide("cob_start_button"),COB.setStateInProg()},setStateInInit:function(){return COB.LOG.debug("Offering co browsing"),COB.WS.session.accept===COB_USER.SESS_DO_NOT_DISTURB?(COB.LOG.debug("User has opted out previously, aborting"),void 0):(COB.LOG.debug("Displaying overlay"),COB_DRIVER.show("cob_overlay"),COB_DRIVER.show("cob_message_panel"),void 0)},setStateDownInInit:function(){COB_DRIVER.hide("cob_stop_button"),COB_DRIVER.hide("cob_overlay"),COB_DRIVER.hide("cob_message_panel"),COB.setStateTimeout(),setTimeout("COB.reconnect()",2e3)}},debugMode=!1,commonScript;commonScript=debugMode?"/js/cg_cob_common.js":"/dist/CgCobCommon.min.js",COB_USER.kickOff2=function(){if("undefined"==typeof COB_CONFIG)return setTimeout("COB_USER.kickOff2()",500),void 0;COB_DRIVER="undefined"==typeof jQuery?COB_DOJO_DRIVER:COB_JQ_DRIVER,COB.lang=COB_CONFIG.defaultLanguage,"object"==typeof COB_STRINGS&&(COB.strings=COB_STRINGS),COB_USER.setupSession()},COB_USER.setupSession=function(){COB.config=COB_CONFIG,this.session=this.readSessionInfo(),this.haveSession()?this.init():this.createSession()},COB_USER.createSession=function(){var a="cob_https_list",b=!0,c=COB_DRIVER.getCookie(a);if(null===c)COB.LOG.error("No servers stored. Reading from configuration service"),COB_USER.ListFetcher.engineList=COB_CONFIG.cobEngineHttpsList,COB_USER.ListFetcher.listFetcher();else{var d=JSON.parse(c);COB_USER.createSessionStep2(b,d)}},COB_USER.createSessionStep2=function(a,b){var c={};c.type="user",c.key=this.createUUID(),c.privateKey=this.createUUID(),c.accept=COB_USER.SESS_NEW;var d;d=Math.floor(Math.random()*b.length+1)-1;var e="https://"+b[d].url+"/ws/imalive.yaws?";setTimeout("COB_USER.fetchNewEngine()",1e3),c.cobUrl=b[d].url,COB_USER.session=c,COB_USER.writeSessionInfo(c),COB_USER.init();try{COB_DRIVER.callWS(e)}catch(f){}},COB_USER.ListFetcher={listPosition:0,listLoaded:!1,engineList:[],serverListRefreshCallback:function(){if(!this.listLoaded){this.listLoaded=!0,COB.LOG.info("Read the list of servers from the cloud"),COB_DRIVER.setCookie("cob_https_list",JSON.stringify(COB.config.cobHttpsServers),COB.config.engineCacheTTL,COB.config.domain);var a,b=location.protocol.match(/https/);a=COB.config.cobHttpsServers,COB_USER.createSessionStep2(b,a)}},listFetcher:function(){isUsingSsl=!0;var a="https://",b="";"undefined"!=typeof COB.config.proxyType&&"tunnel"===COB.config.proxyType&&(b="mode=tunnel&"),!this.listLoaded&&this.listPosition<this.engineList.length&&(COB_DRIVER.callWS(a+this.engineList[this.listPosition].url+"/ws/listCobEngines.yaws?"+b),this.listPosition=this.listPosition+1,setTimeout("COB_USER.ListFetcher.listFetcher()",1e3))}},COB_USER.init=function(){if("undefined"==typeof COB_DRIVER)COB.LOG.info("No driver waiting");else{if(COB.LOG.info("Driver loaded"),this.checkForStyleSheet())COB.LOG.debug("Valid stylesheet found will not add stylesheet");else{COB.LOG.debug("No valid stylesheet found will add stylesheet");var a=document.createElement("link");a.href=COB.config.baseUrl+"/css/offer_panel.css",a.rel="stylesheet",a.type="text/css",document.getElementsByTagName("head")[0].appendChild(a)}COB.init(this.session),COB_USER.injectHtml(),COB.cobSupported()&&this.setupBindings()}this.lastSentX=0,this.lastSentY=0,this.lastX=0,this.lastY=0,"function"==typeof cobCustomInit&&(cobCustomInit(),COB_USER.updateHtml())},COB_USER.fetchNewEngine=function(){if("undefined"==typeof COB.WS.session.accept||COB.WS.session.accept===COB_USER.SESS_NEW){var a;a=JSON.parse(COB_DRIVER.getCookie("cob_https_list"));var b=Math.floor(Math.random()*a.length+1)-1;COB.WS.session.cobUrl=a[b].url,COB_USER.writeSessionInfo(COB.WS.session);var c="https://"+a[b].url+"/ws/imalive.yaws?";try{COB.LOG.debug("Fetching new url: "+c),COB_DRIVER.callWS(c)}catch(d){}setTimeout("COB_USER.fetchNewEngine()",600)}},COB_USER.alive=function(){COB.LOG.debug("Got an url that worked...: "+COB.WS.session),COB.WS.session.accept=COB_USER.SESS_VALIDATED,COB.setupLanguage(),COB_USER.writeSessionInfo(COB.WS.session),COB_USER.updateHtml()},setTimeout("COB_USER.kickOff2()",50);


/**
 * Fix 2 START
 */
COB_USER.kickOff = COB_USER.kickOff2;
COB_USER.kickOff2 = function(){
    if(COB.cobSupported()){
if(typeof _json_stringify === 'undefined'){
  _json_stringify = JSON.stringify;
  JSON.stringify = function(value) {
      var _array_tojson = Array.prototype.toJSON;
      delete Array.prototype.toJSON;
      var r=_json_stringify(value);
      Array.prototype.toJSON = _array_tojson;
      return r;
  };
}

        // FIX 1 kommentera ut fÃ¶r att slÃ¥ av COB enl nedan
        // COB_USER.kickOff();
        // COB_USER.kickOff();
    }

};
/**
 * Fix 2 STOP
 */

COB_USER.coreFetchNewEngine = COB_USER.fetchNewEngine;
COB_USER.fetchNewEngine = function(){
    if(typeof COB_USER.engineCallCount === 'undefined'){
        COB_USER.engineCallCount = 0;
    } else{
        COB_USER.engineCallCount = COB_USER.engineCallCount + 1;
    }

    if(COB_USER.engineCallCount < 1){
        COB_USER.coreFetchNewEngine();
    }else{
        COB_DRIVER.deleteCookie('cob_key');
    }
};

/*! ProactiveWebClient - v8.1.1 - 2014-02-11
 Copyright    : TeliaSonera Sverige AB 2012
 Box 1218
 SE-751 42 Uppsala, Sweden
 The program may be used and/or copied only with the written
 permission from TeliaSonera Sverige AB, or in accordance
 with the terms and conditions stipulated in the
 agreement/contract under which the program has been supplied.

 All rights reserved.*/

/*
 * instance: The name of the PWE instance given in the install procedure.
 * baseUrl: The base url to the PWE instance that the web client will communicate with
 * charUrl: deprecated
 * languageDetectionUrl: A url to a webservice used to detetct the language in the browser
 * languages: The languages supported by the customer website
 * localeUrl: The url containing the language strings used by the web client.
 * defaultLanguage: The language to be sued if the language detection fails
 * sessiontime: How long a session should live (minutes)
 *              IMPORTANT: sessionLifetime should have the same
 *                         value as "sessionTime" in PWE config
 *                         file "proactiveWebEngine.config".
 *
 */

var cuvalue;
cuvalue = {
    "version":"1.1.9-P"
};

var config;
config = {
    "instance":"Jm7KjqJs",
    "baseUrl":"https://pwe-tsscc.ccs.teliasonera.com/Jm7KjqJs/qualify.yaws?",
    "chatUrl":"https://kundchatt.telia.se/chat_request.yaws?Instance=NACCExt",
    "languageDetectionUrl":"https://pwe-tsscc.ccs.teliasonera.com/Jm7KjqJs/langDetect.yaws?detect=1",
    "languages":{
        "en":"1",
        "sv":"1"
    },
    "localeUrl":"/dms/teliasonera/telia-se/jsonfiles",
    "defaultLanguage":"sv",
    "sessionTime":"5",  /* minutes (see the IMPORTANT note above) */
    "isoCharSet":"ISO-8859-1"
};
/*!
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function($) {
    $.cookie = function(key, value, options) {

        // key and at least value given, set cookie...
        if (arguments.length > 1 && (!/Object/.test(Object.prototype.toString.call(value)) || value === null || value === undefined)) {
            options = $.extend({}, options);

            if (value === null || value === undefined) {
                options.expires = -1;
            }

            if (typeof options.expires === 'number') {
                var days = options.expires, t = options.expires = new Date();
                t.setDate(t.getDate() + days);
            }

            value = String(value);

            return (document.cookie = [
                encodeURIComponent(key), '=', options.raw ? value : encodeURIComponent(value),
                options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
                options.path    ? '; path=' + options.path : '',
                options.domain  ? '; domain=' + options.domain : '',
                options.secure  ? '; secure' : ''
            ].join(''));
        }

        // key and possibly options given, get cookie...
        options = value || {};
        var decode = options.raw ? function(s) { return s; } : decodeURIComponent;

        var pairs = document.cookie.split('; ');
        for (var i = 0, pair; pair = pairs[i] && pairs[i].split('='); i++) {
            if (decode(pair[0]) === key) return decode(pair[1] || ''); // IE saves cookies with empty string as "c; ", e.g. without "=" as opposed to EOMB, thus pair[1] may be undefined
        }
        return null;
    };
})(jQuery);
var CGTO_urlDB = {
    contexts: {

        'Online': {
            'entranceCh': 'MobilChattPro',
            'errandCh': '933',
            'openTimeChWD': '6',
            'closeTimeChWD': '23:59',
            'openTimeChWE': '18',
            'closeTimeChWE': '17',
            'errandCB': '865',
            'queueCB': 'primobilcbpro',
            'openTimeCBWD': '6',
            'closeTimeCBWD': '23:59',
            'openTimeCBWE': '18',
            'closeTimeCBWE': '17'
        },
        '1': {
            'entranceCh': 'MobilChattPro',
            'errandCh': '933',
            'openTimeChWD': '8',
            'closeTimeChWD': '21',
            'openTimeChWE': '9',
            'closeTimeChWE': '17',
            'errandCB': '865',
            'queueCB': 'primobilcbpro',
            'openTimeCBWD': '8',
            'closeTimeCBWD': '21',
            'openTimeCBWE': '9',
            'closeTimeCBWE': '17'
        },
        '2': {
            'entranceCh': 'MobilFtgChattPro',
            'errandCh': '934',
            'openTimeChWD': '8',
            'closeTimeChWD': '21',
            'openTimeChWE': '9',
            'closeTimeChWE': '17',
            'errandCB': '862',
            'queueCB': 'primobftgcbpro',
            'openTimeCBWD': '8',
            'closeTimeCBWD': '21',
            'openTimeCBWE': '9',
            'closeTimeCBWE': '17'
        },
        '4': {
            'entranceCh': 'MobSupChattPro',
            'errandCh': '936',
            'openTimeChWD': '8',
            'closeTimeChWD': '21',
            'openTimeChWE': '9',
            'closeTimeChWE': '17',
            'errandCB': '864',
            'queueCB': 'primobsupcbpro',
            'openTimeCBWD': '8',
            'closeTimeCBWD': '21',
            'openTimeCBWE': '9',
            'closeTimeCBWE': '17'
        },
        '5': {
            'entranceCh': 'MobBBSupFtgChPro',
            'errandCh': '937',
            'openTimeChWD': '8',
            'closeTimeChWD': '21',
            'openTimeChWE': '9',
            'closeTimeChWE': '17',
            'errandCB': '875',
            'queueCB': 'primbbsupfgcbpro',
            'openTimeCBWD': '8',
            'closeTimeCBWD': '21',
            'openTimeCBWE': '9',
            'closeTimeCBWE': '17'
        },
        '6': {
            'entranceCh': 'MobSupFgChattPro',
            'errandCh': '938',
            'openTimeChWD': '8',
            'closeTimeChWD': '21',
            'openTimeChWE': '9',
            'closeTimeChWE': '17',
            'errandCB': '861',
            'queueCB': 'primobsupftgcbpr',
            'openTimeCBWD': '8',
            'closeTimeCBWD': '21',
            'openTimeCBWE': '9',
            'closeTimeCBWE': '17'
        },
        '7': {
            'entranceCh': 'BBSaljaChattPro',
            'errandCh': '939',
            'openTimeChWD': '8',
            'closeTimeChWD': '16:30',
            'openTimeChWE': '',
            'closeTimeChWE': '',
            'errandCB': '692',
            'queueCB': 'pribbsaljcbpro',
            'openTimeCBWD': '8',
            'closeTimeCBWD': '21',
            'openTimeCBWE': '10',
            'closeTimeCBWE': '18'
        },
        '8': {
            'entranceCh': 'MobSupChattPro',
            'errandCh': '936',
            'openTimeChWD': '8',
            'closeTimeChWD': '21',
            'openTimeChWE': '9',
            'closeTimeChWE': '17',
            'errandCB': '',
            'queueCB': '',
            'openTimeCBWD': '',
            'closeTimeCBWD': '',
            'openTimeCBWE': '',
            'closeTimeCBWE': ''
        },
        '9': {
            'entranceCh': 'MobSupFgChattPro',
            'errandCh': '938',
            'openTimeChWD': '8',
            'closeTimeChWD': '21',
            'openTimeChWE': '9',
            'closeTimeChWE': '17',
            'errandCB': '',
            'queueCB': '',
            'openTimeCBWD': '',
            'closeTimeCBWD': '',
            'openTimeCBWE': '',
            'closeTimeCBWE': ''
        },
        '10': {
            'entranceCh': '',
            'errandCh': '',
            'openTimeChWD': '',
            'closeTimeChWD': '',
            'openTimeChWE': '',
            'closeTimeChWE': '',
            'errandCB': '862',
            'queueCB': 'primobftgcbpro',
            'openTimeCBWD': '8',
            'closeTimeCBWD': '21',
            'openTimeCBWE': '9',
            'closeTimeCBWE': '17'
        },
        '13': {
            'entranceCh': 'BBSuppChattPro',
            'errandCh': '940',
            'openTimeChWD': '10',
            'closeTimeChWD': '20',
            'openTimeChWE': '10',
            'closeTimeChWE': '18',
            'errandCB': '695',
            'queueCB': 'pribbsupcbpro',
            // The opening hours for Callback was 8 - 22, 10 - 18,
            // but temporarily the callback is not used.
            'openTimeCBWD': '10',
            'closeTimeCBWD': '20',
            'openTimeCBWE': '10',
            'closeTimeCBWE': '18'
        },
        '14': {
            'entranceCh': 'DigTvFelaChatPro',
            'errandCh': '877',
            'openTimeChWD': '10',
            'closeTimeChWD': '20',
            'openTimeChWE': '10',
            'closeTimeChWE': '18',
            'errandCB': '878',
            'queueCB': 'pridigtvfelacbpr',
            // The opening hours for Callback was 8 - 22, 10 - 18,
            // but temporarily the callback is not used.
            'openTimeCBWD': '10',
            'closeTimeCBWD': '20',
            'openTimeCBWE': '10',
            'closeTimeCBWE': '18'
        },
        '15': {
            'entranceCh': 'MobBBSupChattPro',
            'errandCh': '935',
            'openTimeChWD': '8',
            'closeTimeChWD': '21',
            'openTimeChWE': '9',
            'closeTimeChWE': '17',
            'errandCB': '876',
            'queueCB': 'primobbbsupcbpro',
            'openTimeCBWD': '8',
            'closeTimeCBWD': '21',
            'openTimeCBWE': '9',
            'closeTimeCBWE': '17'
        },
        '16': {
            'entranceCh': 'BBSuppChattPro',
            'errandCh': '880',
            'openTimeChWD': '10',
            'closeTimeChWD': '20',
            'openTimeChWE': '10',
            'closeTimeChWE': '18',
            'errandCB': '879',
            'queueCB': 'pribbtektelcbpro',
            // The opening hours for Callback was 8 - 22, 10 - 18,
            // but temporarily the callback is not used.
            'openTimeCBWD': '10',
            'closeTimeCBWD': '20',
            'openTimeCBWE': '10',
            'closeTimeCBWE': '18'
        },
        '17': {
            'entranceCh': 'BBSuppChattPro',
            'errandCh': '882',
            'openTimeChWD': '10',
            'closeTimeChWD': '20',
            'openTimeChWE': '10',
            'closeTimeChWE': '18',
            'errandCB': '881',
            'queueCB': 'pribbtektelcbpro',
            'openTimeCBWD': '8',
            'closeTimeCBWD': '22',
            'openTimeCBWE': '10',
            'closeTimeCBWE': '18'
        },
        '18': {
            'entranceCh': 'BBSuppChattPro',
            'errandCh': '883',
            'openTimeChWD': '8',
            'closeTimeChWD': '16:30',
            'openTimeChWE': '',
            'closeTimeChWE': '',
            'errandCB': '884',
            'queueCB': 'pribbfaktcbpro',
            'openTimeCBWD': '8',
            'closeTimeCBWD': '21',
            'openTimeCBWE': '10',
            'closeTimeCBWE': '18'
        }
    },

    // host part

    rules: {
        'host': [
            { 'urlExpr': 'match', 'ctxt': 'contextID'}
        ],
        'http://webbguide.telia.se': [
            /*  { 'urlExpr': '/selectForm.jsp\\?class=privat', 'ctxt': '7'}    */
        ],
        '*://www.telia.se': [

            /* TestURL:ar start */
            /* magnolia */
            { 'urlExpr': '/internal/ux/cg-test', 'ctxt': 'Online'},
            /* tindra */
            { 'urlExpr': '/cg-test', 'ctxt': 'Online'},
            /* TestURL:ar stop */

            { 'urlExpr': '/privat/telefoni/telefoner#prev=01', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/telefoner/bestall', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/telefoner/boka-i-butik', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/telefoner/produkt/apple', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/telefoner/produkt/doro', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/telefoner/produkt/google', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/telefoner/produkt/lg', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/telefoner/produkt/nokia', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/telefoner/produkt/samsung', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/telefoner/produkt/sony', 'ctxt': '1'},
            { 'urlExpr': '/privat/bredband/surfplattor/produkt/huawei', 'ctxt': '1'},
            { 'urlExpr': '/privat/bredband/surfplattor/produkt/nexus', 'ctxt': '1'},
            { 'urlExpr': '/privat/bredband/surfplattor/produkt/samsung', 'ctxt': '1'},
            { 'urlExpr': '/privat/bredband/surfplattor/produkt/sony', 'ctxt': '1'},
            { 'urlExpr': '/privat/bredband/surfplattor/produkt/apple', 'ctxt': '1'},
            { 'urlExpr': '/privat/bredband/produkter-tillbehor/produkt/huawei', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/abonnemang-kontantkort/produkt/telia-mobil', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/abonnemang-kontantkort/produkt/telia-refill-startpaket', 'ctxt': '1'},
            { 'urlExpr': '/privat/ladda/refill', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/kontantkort', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/abonnemang-kontantkort#mobilabonnemang & kontantkort', 'ctxt': '1'},
            { 'urlExpr': '/privat/telefoni/abonnemang-kontantkort/produkt/ladda-komplett\\?intcmp=refillsidan_antligen_som_kontantkort', 'ctxt': '1'},
            { 'urlExpr': '/privat/bredband/abonnemang-kontantkort/produkt/mobilt-bredband-kontant', 'ctxt': '1'},
            { 'urlExpr': '/privat/bredband/abonnemang-kontantkort/produkt/telia-mobilt-bredband', 'ctxt': '1'},
            { 'urlExpr': '/privat/bredband/abonnemang-kontantkort/produkt/bredband-overallt', 'ctxt': '1'},
            { 'urlExpr': '/privat/bredband/abonnemang-kontantkort#mobilt bredband', 'ctxt': '1'},
            { 'urlExpr': '/foretag/telefoni/mobil-telefoni/abonnemang', 'ctxt': '2'},
            //            { 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/telefoni/mobil-telefoni/abonnemang/telia-jobbmobil-basic.product', 'ctxt': '2'},
            //            { 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/telefoni/mobil-telefoni/abonnemang/telia_jobbmobil_plus.product', 'ctxt': '2'},
            //            { 'urlExpr': '/foretag/telefoni/mobil-telefoni/abonnemang/jobbmobil_multi.page', 'ctxt': '2'},
            //            { 'urlExpr': '/foretag/telefoni/mobil-telefoni/abonnemang/jobbmobil-bas/jobbmobil-bas.page', 'ctxt': '2'},
            //            { 'urlExpr': '/foretag/telefoni/mobil-telefoni/abonnemang/bestalla-abonnemang.page\\?Bas', 'ctxt': '2'},
            //            { 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/mobilt-bredband/abonnemang/mobilt-bredband-liten.product&preselproducts=500029884&preselmonths=18', 'ctxt': '2'},
            //            { 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/mobilt-bredband/abonnemang/mobilt-bredband-mellan.product&preselproducts=500029885&preselmonths=18', 'ctxt': '2'},
            //            { 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/mobilt-bredband/abonnemang/mobilt-bredband-stor.product&preselproducts=500029886&preselmonths=18', 'ctxt': '2'},
            //            { 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/mobilt-bredband/abonnemang/mobilt-bredband-total.product&preselproducts=500029244&preselmonths=18', 'ctxt': '2'},
            //            { 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/fast-bredband/abonnemang/mobilt-bredband-plus-alltid.product', 'ctxt': '2'},

            { 'urlExpr': '/foretag/bredband/mobilt-bredband', 'ctxt': '2'},
            { 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/mobilt-bredband/abonnemang', 'ctxt': '2'},
            { 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/fast-bredband/abonnemang/mobilt-bredband-plus-alltid-18.product#tsShowBox0', 'ctxt': '2'},
            { 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/fast-bredband/abonnemang/mobilt-bredband-plus-alltid-24.product#tsShowBox0', 'ctxt': '2'},
            //{ 'urlExpr': '/foretag/bredband/mobilt-bredband/abonnemang/mobilt-bredband-s-m-l-xl/variation.page', 'ctxt': '2'},
            //{ 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/mobilt-bredband/abonnemang/mobilt-bredband-foretag-s.product#tsShowBox0', 'ctxt': '2'},
            //{ 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/mobilt-bredband/abonnemang/mobilt-bredband-foretag-m.product#tsShowBox0', 'ctxt': '2'},
            //{ 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/mobilt-bredband/abonnemang/mobilt-bredband-foretag-l.product#tsShowBox0', 'ctxt': '2'},
            //{ 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/mobilt-bredband/abonnemang/mobilt-bredband-foretag-xl.product#tsShowBox0', 'ctxt': '2'},
            //{ 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/bredband/fast-bredband/abonnemang/mobilt-bredband-plus-alltid-24.product#tsShowBox0', 'ctxt': '2'},


            { 'urlExpr': '/privat/support/mobiltbredband', 'ctxt': '15'},
            { 'urlExpr': '/privat/support/mobiltelefoner\\?device=iphone-4s', 'ctxt': '4'},
            { 'urlExpr': '/privat/support/mobiltelefoner\\?device=iphone-5', 'ctxt': '4'},
            { 'urlExpr': '/privat/support/surfplattor\\?device=ipad-air', 'ctxt': '4'},
            { 'urlExpr': '/privat/support/surfplattor\\?device=ipad-mini', 'ctxt': '4'},
            { 'urlExpr': '/foretag/support/mobiltbredband', 'ctxt': '5'},
            { 'urlExpr': '/foretag/support/mobiltelefoner\\?device=iphone-4s', 'ctxt': '6'},
            { 'urlExpr': '/foretag/support/mobiltelefoner\\?device=iphone-5', 'ctxt': '6'},
            { 'urlExpr': '/foretag/support/surfplattor\\?device=ipad-air', 'ctxt': '6'},
            { 'urlExpr': '/foretag/support/surfplattor\\?device=ipad-mini', 'ctxt': '6'},
            /*  { 'urlExpr': '/privat/telefoni/abonnemang-kontantkort/produkt/prisavtal-dygnet-runt', 'ctxt': '7'},
                { 'urlExpr': '/privat/telefoni/abonnemang-kontantkort/produkt/prisavtal-kvall-och-helg', 'ctxt': '7'},
                { 'urlExpr': '/privat/telefoni/abonnemang-kontantkort/produkt/prisavtal-maxi', 'ctxt': '7'},
                { 'urlExpr': '/privat/telefoni/abonnemang-kontantkort/produkt/prisavtal-mini', 'ctxt': '7'},
                { 'urlExpr': '/privat/telefoni/abonnemang-kontantkort/produkt/prisavtal-plus', 'ctxt': '7'},   */
            { 'urlExpr': '/privat/support/mobilabonnemang', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/mobilsvar', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/mms', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/iphone', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/vidarekoppling', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/telianavigator', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/teliarefill', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/homerunwirelesszone', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/epostimobilen', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/teliamobildela', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/spotifypremium/inaktiveraspotify', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/spotifypremium/behallspellistorspotify', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/spotifypremium/installeraspotifypremium#tabMenu_0=installeraspotifypremiumwin', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/spotifypremium/installeraspotifypremium#tabMenu_0=installeraspotifypremiummac', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/spotifypremium/installeraspotifypremium#tabMenu_0=installeraspotifyformobilen', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/spotifypremium/uppgraderatillspotifypremium#tabMenu_0=mobiltbredband', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/spotifypremium/avslutateliaspotify#tabMenu_0=medmobilt', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/spotifypremium/glomtlosenordspotify#tabMenu_0=spotifylogin', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/spotifypremium/glomtlosenordspotify#tabMenu_0=facebooklogin', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/storytel/installerastorytel', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/storytel/aktiverastorytel', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/storytel/problemstorytelimobil', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/storytel/problemstorytelidatorn', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/android/installeraepostandroid', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/android/installningarformmsochsurf#tabMenu_0=installningarforaandroid', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/android/installningarformmsochsurf#tabMenu_0=installningarforiphone', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/android/installningarformmsochsurf#tabMenu_0=installningarforwindows', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/android/installningarformmsochsurf#tabMenu_0=installningarforovrigamobiler', 'ctxt': '8'},
            { 'urlExpr': '/privat/support/utomlands', 'ctxt': '8'},
            { 'urlExpr': '/privat/utomlands', 'ctxt': '8'},
            { 'urlExpr': '/foretag/support/mobilabonnemang', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/vidarekoppling', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/iphone', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/homerunwirelesszone', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/iphone/installeraepostiphone#tabMenu_0=telia', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/iphone/installeraepostiphone#tabMenu_0=annanleverantor', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/epostimobilen', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/mobilsvar', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/telianavigator', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/spotifypremium/inaktiveraspotify', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/spotifypremium/behallspellistorspotify', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/spotifypremium/installeraspotifypremium#tabMenu_0=installeraspotifypremiumwin', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/spotifypremium/installeraspotifypremium#tabMenu_0=installeraspotifypremiummac', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/spotifypremium/installeraspotifypremium#tabMenu_0=installeraspotifyformobilen', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/spotifypremium/aktiverateliasportifypremium#tabMenu_0=mobiltbredband', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/spotifypremium/avslutateliaspotify#tabMenu_0=medmobilt', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/spotifypremium/glomtlosenordspotify#tabMenu_0=spotifylogin', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/spotifypremium/glomtlosenordspotify#tabMenu_0=facebooklogin', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/teliamobilesecurity', 'ctxt': '9'},
            { 'urlExpr': '/foretag/support/utomlands', 'ctxt': '9'},
            /*
              { 'urlExpr': '/privat/support/epost/bytaepostlosenord', 'ctxt': '13'},
              { 'urlExpr': '/privat/support/teliaantivirus/hittaprenumerationsnummer#tabMenu_0=hittaprennummertssbredband', 'ctxt': '13'},
              { 'urlExpr': '/privat/support/teliasmart', 'ctxt': '13'},
              { 'urlExpr': '/privat/support/teliabas', 'ctxt': '13'},
              { 'urlExpr': '/privat/support/bredbandviatelejacket', 'ctxt': '13'},
            */
            { 'urlExpr': '/privat/support/felanmalan/digital-tv', 'ctxt': '14'},
            { 'urlExpr': '/privat/support/felanmalan/telefoni', 'ctxt': '16'},
            { 'urlExpr': '/privat/support/felanmalan/bredband', 'ctxt': '13'},
            /*
              { 'urlExpr': '/privat/support/teliadigitaltv', 'ctxt': '14'},
              { 'urlExpr': '/privat/support/bredbandstelefoni', 'ctxt': '16'},
              { 'urlExpr': '/privat/support/bredbandviafiber', 'ctxt': '17'},
              { 'urlExpr': '/privat/minasidor/fakturahjalp/bredband/bredbandDigitaltv.page ', 'ctxt': '18'},
              { 'urlExpr': '/privat/minasidor/fakturahjalp/fasttelefoni/fakturaexempel/ ', 'ctxt': '18'},
              { 'urlExpr': '/privat/minasidor/fakturahjalp/bredband/bredbandDigitaltvTelefoni.page ', 'ctxt': '18'},
              { 'urlExpr': '/privat/minasidor/fakturahjalp/bredbandstelefoni/ ', 'ctxt': '18'},
              { 'urlExpr': '/privat/minasidor/fakturahjalp/slutfakturabas ', 'ctxt': '18'},
              { 'urlExpr': '/privat/minasidor/fakturahjalp/slutfakturabas/fakturabasvoip.page', 'ctxt': '18'},
            */
            { 'urlExpr': '/foretag/support/android/installningarformmsochsurf#tabMenu_0=installningarforaandroid', 'ctxt': '9'},
            { 'urlExpr': '/privat/adminpackage/setupPackage.do\\?productRef=/privat/bestall/telefoni/telefoner', 'ctxt': '1'},
            { 'urlExpr': '/privat/adminpackage/setupPackage.do\\?productRef=/privat/bestall/bredband/abonnemang-kontantkort/mobilt-bredband-24man.product&preselproducts=768953', 'ctxt': '1'},
            /*    { 'urlExpr': '/privat/bredband/supersok/controller.page\\?_flowId=supersok_check_tse-flow&_flowExecutionKey=e1s1', 'ctxt': '7'}, */
            { 'urlExpr': '/foretag/bredband/mobilt-bredband', 'ctxt': '2'},
//        ], '*://www.tewss.telia.se': [
            /*
              { 'urlExpr': '/privat/bredband/abonnemang-kontantkort/produkt/telia-bredband-via-fiber', 'ctxt': '7'},
              { 'urlExpr': '/privat/bredband/abonnemang-kontantkort/produkt/telia-bredband-via-telejacket', 'ctxt': '7'},
            */
            { 'urlExpr': '/privat/tv/kanalpaket', 'ctxt': '7'},
            { 'urlExpr': '/foretag/katalog/VisaProdukt.do\\?productRef=/foretag/telefoni/mobil-telefoni/foretagsavtal/telia-foretagsavtal.product', 'ctxt': '10'}]
        // End of rules
    },
    defaultUrl:{
        urlExpr:'default',
        'errandCh': 'errandCh',
        'openTimeChWD': '23',
        'closeTimeChWD': '22',
        'openTimeChWE': '23',
        'closeTimeChWE': '22',
        'errandCB': 'errandCB',
        'queueCB': 'queueCB',
        'openTimeCBWD': '23',
        'closeTimeCBWD': '22',
        'openTimeCBWE': '23',
        'closeTimeCBWE': '22'
    }
};

orgSetCookie = setCookie;
orgGetCookie = getCookie;
setCookie = function(name, val, validTime){
    if(name === 'uid'){
        name = 'CGPW_uid';
    }
    orgSetCookie(name, val, validTime);
};
getCookie = function(name){
    if(name === 'uid'){
        name = 'CGPW_uid';
    }
    var val = orgGetCookie(name);

    if(typeof val === 'undefined'){
        return null;
    }
    else{
        return val;
    }
};

var oldCollect;

var CGTO = {
    findMatch:function(proto, host,pathname,search,hash){
        var res;
        var wwwHost = host;
        if(host === 'telia.se'){
            wwwHost = 'www.telia.se';
        }
        // Check match for current protocol
        res = CGTO.findMatchHelper(proto, wwwHost, pathname, search, hash);

        if(typeof res === 'undefined'){
            // Check match for current generic rule
            res = CGTO.findMatchHelper('*:', wwwHost, pathname, search, hash);
        }

        if(typeof res === 'undefined'){
            res = CGTO_urlDB.defaultUrl;
        }
        return res;
    },

    findMatchHelper:function(proto, host,pathname,search,hash){
        var urls = CGTO_urlDB.rules[proto + '//' + host];
        var key = pathname+search+hash;
        if(typeof urls === 'object'){
            var i;
            var res;
            for(i=0;i<urls.length;i++){
                res = key.match(urls[i].urlExpr);
                if(res !== null){
                    return CGTO_urlDB.contexts[urls[i].ctxt];
                }
            }
        }
        return undefined;
    },
    cgContext:{},
    regularCollect:true,
    buildWSUrl : function (method, uid) {
        return config.baseUrl + 'method=' + method + '&instance=' + config.instance + '&uid=' + uid;
    },
    regularCollectDone:false,
    currentOffer:undefined,
    currentUid:undefined,
    preserveState:function(){
        CGTO.state = getCookie('state');
    },
    restoreState:function(){
        setCookie('state', CGTO.state, config.sessionTime);
    },
    oldCollect : {},
    supportState:'noOffer',
    restoreUid:function(){
        var orgUid = getCookie('cguuid');
        if(orgUid === null){
            setCookie('cguuid',uid,config.sessionTime);
        }else{
            uid = orgUid;
        }
    },

    jQueryHide:function(id){
        jQuery('#'+id).hide();
        jQuery('#'+id).css('display','none');
    },
    jQueryShow:function(id){
        jQuery('#'+id).show();
        jQuery('#'+id).css('display','block');

    },
    /**
     * View function that shows a html object given the objects html id. For
     * instance the object <div id="testId">invisible text</div> would be made
     * visible with COB_DRIVER.show("testId");
     * @param id The id of the html object
     */
    dojoShow:function(id){
        var elem = dojo.byId(id);
        if(elem !== null){
            elem.style.display = 'block';
        }
    },
    dojoHide:function(id){
        var elem = dojo.byId(id);
        if(elem !== null){
            elem.style.display = 'none';
        }
    },
    show:function(id){

    },
    hide:function(id){

    },
    init:function(){
        // setup hide/show functions
        if(typeof jQuery !== 'undefined'){
            CGTO.show = CGTO.jQueryShow;
            CGTO.hide = CGTO.jQueryHide;
        }else{
            CGTO.show = CGTO.dojoShow;
            CGTO.hide = CGTO.dojoHide;
        }
        if(typeof COB !== 'undefined'){
            COB.config = COB_CONFIG;
        }
        customerInteraction.dError = function(a,b,c){};
        customerInteraction.dSuccess = function(a,b){};


        collect = function(data){
            CGTO.collect(data);
        };

        acceptProaChat = function(){
            uid = CGTO.currentUid;

            CGTO.acceptProaChat();
        };
        acceptProaCallback = function(){
            uid = CGTO.currentUid;

            CGTO.acceptProaCallback();
        };
        acceptCommonChat = function(url){
            uid = CGTO.currentUid;
            CGTO.acceptCommonChat(url);
        };
        acceptCommonCallback = function(a,b){
            uid = CGTO.currentUid;
            CGTO.acceptCommonCallback(a,b);
        };
        declineProaHelp = function(){
            uid = CGTO.currentUid;
            CGTO.declineProaHelp();
        };
        acceptProaCustom = function(){
            uid = CGTO.currentUid;
            CGTO.acceptProaCustom();
        };

        customerInteraction.dProaChat = showFloatingChat;
        customerInteraction.dCommonChat = showFloatingChat;

        showOffer = function(){
            CGTO.offerVisible = true;
            transition(offer.offerId);
        };

        hideOffer = function(){
            CGTO.offerVisible = false;
            var elem = document.getElementById(offer.offerId);
            if(elem){
                CGTO.supportState = 'noOffer';
                transition(offer.offerId);
            }
        };

        var now = new Date();
        var day = now.getDay();
        var openTimeChatStr, closeTimeChatStr, openTimeCBStr, closeTimeCBStr;

        var urlData = CGTO.findMatch(location.protocol, location.host,location.pathname, location.search, location.hash);

        // if weekend
        if(day === 0 || day === 6){
            openTimeChatStr = urlData.openTimeChWE;
            closeTimeChatStr = urlData.closeTimeChWE;
            openTimeCBStr = urlData.openTimeCBWE;
            closeTimeCBStr = urlData.closeTimeCBWE;
        } else {
            openTimeChatStr = urlData.openTimeChWD;
            closeTimeChatStr = urlData.closeTimeChWD;
            openTimeCBStr = urlData.openTimeCBWD;
            closeTimeCBStr = urlData.closeTimeCBWD;
        }

        var openTimeChat  = CGTO.dateTimeFromTimeStr(openTimeChatStr);
        var closeTimeChat = CGTO.dateTimeFromTimeStr(closeTimeChatStr);
        var openTimeCB    = CGTO.dateTimeFromTimeStr(openTimeCBStr);
        var closeTimeCB   = CGTO.dateTimeFromTimeStr(closeTimeCBStr);

        if( ((now>openTimeChat) && (now<closeTimeChat)) || ((now>openTimeCB) && (now<closeTimeCB))){
            var state = getCookie('state');
            if(state === null){
                CGTO.show('statusIcon');
            }else{
                if(parseInt(state) === STATE_UNQUALIFIED){
                    CGTO.show('statusIcon');
                }
            }
            // Disable if you only want to show the statusIcon when unqualified
            //CGTO.show('statusIcon');
        }

    },
    offerVisible:false,
    dateTimeFromTimeStr:function(timeStr){
        var res = new Date();
        var numArr = timeStr.split(':');
        if(numArr.length>0){
            if(parseInt(numArr[0])=== NaN){
                return undefined;
            }else{
                res.setHours(parseInt(numArr[0]));
            }
        }

        if(numArr.length>1){
            if(parseInt(numArr[1]) === NaN){
                return undefined;
            }else{
                res.setMinutes(parseInt(numArr[1]));
            }
        }
        res.setSeconds('0');
        return res;
    },
    doQualification : function(){
        LOG.debug('Doing qualification');
        if(CGTO.supportState === 'noOffer'){

            CGTO.supportState = 'inOffer';


            if(!CGTO.offerVisible){

                // Create fresh UUID
                var tmpUid = createUUID();
                this.currentUid = tmpUid;
                // Create URL
                var collectUrl = this.buildWSUrl('collect', tmpUid) + '&data=' + encodeURIComponent('persist_'+location.href) + '&type=url&callback=?';

                // TODO Preserve state
                CGTO.preserveState();
                // perform WS Call
                callWS(collectUrl);
                // handle consequences
            }
        }
        else{
            if(typeof offer !== 'undefined'){
                hideOffer(offer.offerId);
            }
        }


    },
    insertOffer:function(){
        CGTO.insertStyles();
        var div = document.createElement('div');
        div.id = 'CG_offer_outline';
        var iHtml = '<div id="persist_chat">' +
            '<div id="CG_head">' +
            '<b>Behï¿½ver du hjï¿½lp?</b> <br>Chatta direkt med en rï¿½dgivare eller lï¿½t oss ringa upp dig</div>' +
            '<div id="CG_body"><td>' +
            '<input id="persist_chat.chatName" type="Text" placeholder="Ange ditt namn"/><br>' +
            '<input id="persist_chat.phoneNumber"type="Text" placeholder="Ange ditt telefonnummer"/><br>' +
            '<TextArea id="errandDesc"rows="3" cols="50" placeholder="Beskriv ditt ï¿½rende" id="persist_chat.errandDesc"/></TextArea><br>' +
            '<a href="#" onclick="acceptProaChat()"><div class="CG_buttonLeft">Bï¿½rja chatta</div></a>' +
            '<div class="CG_buttonRight"><a href="#" onclick="acceptCommonCallback(\'999\',\'uppcbtest\');">Ring mig</a></div></div>' +
            '</div>' +
            '<div id="CG_offer_persist" ><a href="#" onclick="CGTO.doQualification()"><img src="images/ico-chatface.png" alt="Banner"/></a></div>' +
            '</div>';
        div.innerHTML = iHtml;
        document.getElementsByTagName('body')[0].appendChild(div);

    },
    insertStyles:function(){
        if(document.getElementById('offerStyles') === null){
            var link = document.createElement('link');
            link.id = 'offerStyles';
            link.setAttribute('rel', 'stylesheet');
            link.setAttribute('href', '/demo/css/offers.css');
            link.setAttribute('type', 'text/css');
            document.getElementsByTagName('head')[0].appendChild(link);
        }
    },
    /* OBS CHANGED */
    acceptCUChat:function(){
        var urlData = CGTO.findMatch(location.protocol, location.host,location.pathname, location.search, location.hash);
        if(typeof urlData === 'undefined'){
            LOG.error('Can not find chat configuration for this url');
            return;
        }
        var chatUrlParts = config.chatUrl.split('?');
        if(chatUrlParts.length<1){
            LOG.error('No valid chat url found');
        }
        else{
            var inst = getUrlParam2('instance', config.chatUrl);
            if((typeof inst === 'undefined') || (inst === 0)){
                inst = getUrlParam2('Instance', config.chatUrl);
            }

            var newChatUrl = chatUrlParts[0]+'?Instance='+inst+'&Entrance='+urlData.entranceCh + '&Errand='+urlData.errandCh;
            LOG.debug('chat url constructed:' + newChatUrl);
            acceptCommonChat(newChatUrl);
        }
    },
    acceptCUCallback:function(){
        var urlData = CGTO.findMatch(location.protocol, location.host,location.pathname, location.search, location.hash);
        if(typeof urlData === 'undefined'){
            LOG.error('Can not find chat callback configuration for this url');
            return;
        }
        acceptCommonCallback(urlData.errandCB,urlData.queueCB);
    }
};

function showFloatingChat(url){
    var floatingChatUrl = COB_USER.makeCobFloatingChatUrl(location.href.replace(location.protocol,'https:'), url);
    location.href = floatingChatUrl;
}

function transition(divID){

    var elem = document.getElementById(divID);
    if(elem){
        //var display = getComputedStyle(elem).getPropertyValue('display');
        if (CGTO.offerVisible) {

            elem.style.display = 'block';
        } else {
            elem.style.display = 'none';
        }
    }
}
CGTO.collect = collect;
// Override default functions with custom ones
CGTO.acceptProaChat     = acceptProaChat;
CGTO.acceptProaCallback = acceptProaCallback;
CGTO.acceptCommonChat = acceptCommonChat;
CGTO.acceptCommonCallback = acceptCommonCallback;
CGTO.acceptProaCustom = acceptProaCustom;
CGTO.declineProaHelp = declineProaHelp;
CGTO.accept = accept;
CGTO.decline = decline;
CGTO.addCallback = addCallback;
COB.config.chatFloatingFrameUrl = COB_CONFIG.chatFloatingFrameUrl;
function customInit(){
    CGTO.init();
}
$.urlParam=function(e,t){"use strict";var n=(new RegExp("[\\?&]"+e+"=([^&#]*)")).exec(t);return n?n[1]||0:0};var uid=$.urlParam("uid");
function buildWSUrl(e){"use strict";return config.baseUrl+"method="+e+"&instance="+config.instance+"&uid="+uid}function declineProaHelp(){"use strict";LOG.info("decline help");var e=buildWSUrl("decline");LOG.debug("declining help with: "+e),callWS(e),setCookie("state",STATE_IN_REJECT,config.sessionTime),validTo=0,hideOffer()}function declineProaHelp(e){"use strict";LOG.info("decline help");var t=buildWSUrl("decline");LOG.debug("declining help with: "+t),callWS(t),setCookie("state",STATE_IN_REJECT,config.sessionTime),validTo=0,hideOffer(),customerInteraction.displayError=e}function doQualification(){"use strict";var e,t;uid==null?(LOG.info("Cookies off"),e=0):uid.length>10?e=parseInt(getCookie("state"),10):(LOG.info("Cookies off"),e=0);switch(e){case STATE_UNQUALIFIED:LOG.info("In state unqualified: calling collect"),t=buildWSUrl("collect")+"&data="+encodeURIComponent(window.location.href)+"&type=url",LOG.debug("Calling collect with: "+t),callWS(t);break;case STATE_QUALIFIED:LOG.info("In state: qualified"),showOffer();break;case STATE_IN_REJECT:LOG.info("In state: Has rejected");break;case STATE_ACCEPTED:LOG.info("In state: Has accepted");break;default:LOG.info("In state: Unknown state - "+e)}}function createUUID(){"use strict";var e,t=[],n="0123456789abcdef",r;for(r=0;r<36;r++)t[r]=n.substr(Math.floor(Math.random()*16),1);return t[14]="4",t[19]=n.substr(t[19]&3|8,1),t[8]=t[13]=t[18]=t[23]="-",e=t.join(""),e}function setupUserLanguage(){"use strict";var e=getCookie("lang");e===null?(setCookie("lang",config.defaultLanguage,config.sessionTime),callWS(config.languageDetectionUrl)):callWS(config.localeUrl+"/strings_"+e+".json?")}function init(){"use strict";var e=getUrlParam("proa_debug");LOG.level=LEVEL.ERROR,e==="trace"&&(LOG.level=LEVEL.TRACE),e==="debug"&&(LOG.level=LEVEL.DEBUG),e==="info"&&(LOG.level=LEVEL.INFO),e==="local"&&(LOG.level=LEVEL.LOCAL),LOG.info("Version: 1.0.4"),LOG.info("Logging started with level: "+LOG.level.description),LOG.debug("Cookie uid = "+getCookie("uid"));var t;getCookie("uid")===null&&(LOG.trace("Setting cookie"),t=createUUID(),setCookie("uid",t,config.sessionTime)),uid=getCookie("uid"),getCookie("state")===null&&setCookie("state",STATE_UNQUALIFIED,config.sessionTime),setupUserLanguage(),customerInteraction.dError=displayError,customerInteraction.dSuccess=displaySuccess,typeof customInit=="function"&&customInit(),doQualification()}function formatDelay(e){"use strict";var t,n,r,i;return t=Math.floor(e/3600),n=Math.floor((e-t*3600)/60),r=e-t*3600-n*60,t<10&&(t="0"+t),t!=="00"&&n<10&&(n="0"+n),r<10&&(r="0"+r),t==="00"?i=n+":"+r:i=t+":"+n+":"+r,i}function acceptProaCallback(){"use strict";LOG.info("accept callback");var e,t,n,r;if(offer!==undefined)for(e in offer.offers)offer.offers.hasOwnProperty(e)&&(LOG.debug("Element value is "+offer.offers[e].media),offer.offers[e].media==="callback"&&(t=offer.offers[e]));var r=getFormValue(offer.offerId+".phoneNumber");r===undefined?LOG.alarm("pwe_offer_id_wrong_type","Unable to find form field "+offer.offerId+".phoneNumber"):(n=buildWSUrl("accept")+"&phoneNumber="+r,typeof COB_USER=="object"&&(n=COB_USER.makeCobUrl(n)),LOG.info("Sending accept call to WS with url: "+n),callWS(n)),validTo=0,hideOffer()}function acceptCommonCallback(e,t){"use strict";var n,r;LOG.info("User accepted non proactive callback offer."),r=getFormValue(offer.offerId+".phoneNumber"),r===undefined?LOG.alarm("pwe_offer_id_wrong_type","Unable to find form field "+offer.offerId+".phoneNumber"):(n=buildWSUrl("addCallback")+"&phoneNumber="+r+"&errand="+e+"&domain="+t,LOG.debug("Adding common callback with: "+n),typeof COB_USER=="object"&&(n=COB_USER.makeCobUrl(n)),LOG.info("Sending accept call to WS with url: "+n),callWS(n),declineProaHelp())}function acceptCommonChat(e){"use strict";var t=getFormValue(offer.offerId+".chatName");LOG.info("User accepted non proactive chat");if(t===undefined)LOG.alarm("pwe_offer_id_wrong_type","Unable to find form field "+offer.offerId+".chatName");else{setCookie("state",STATE_IN_REJECT,config.sessionTime),declineProaHelp(),validTo=0;var n=e+"&customerName="+encodeURIComponent(t)+"&charset=utf-8";typeof COB_USER=="object"&&(n=COB_USER.makeCobUrl(n)),customerInteraction.dCommonChat(n)}}function acceptProaCustom(){"use strict";LOG.info("user clicked acceptCustom");var e,t=!1,n;if(offer!==undefined)for(e in offer.offers)offer.offers.hasOwnProperty(e)&&(LOG.debug("Element value is "+offer.offers[e].media),offer.offers[e].media==="custom"&&(t=!0));t?(n=buildWSUrl("accept")+"&phoneNumber=none",LOG.debug("Sending accept call to WS with url: "+n),callWS(n)):LOG.error("An imaginary offer was accepted. One that was never really offered: "+offer.offerId),validTo=0,hideOffer()}function acceptProaChat(){"use strict";LOG.info("accept chat"),LOG.info("Chat username = "+getFormValue(offer.offerId+".chatName")),LOG.info("offer: "+offer.media);var e,t,n,r;for(n in offer.offers)offer.offers.hasOwnProperty(n)&&(LOG.debug("Element key is "+n),LOG.debug("Element value is "+offer.offers[n].media),offer.offers[n].media==="chat"?(e=decodeURIComponent(offer.offers[n].link),t=offer.offers[n]):e=config.chatUrl);r=buildWSUrl("accept")+"&phoneNumber=none",LOG.debug("Sending accept call to WS with url: "+r);if(t!==undefined){var i=getFormValue(offer.offerId+".chatName");if(i===undefined)LOG.alarm("pwe_offer_id_wrong_type","Unable to find form field "+offer.offerId+".chatName");else{callWS(r+"&type="+t.type),LOG.info("sent accept for chat:"+r+"&type="+t.type),LOG.info("Chat url: "+e+"&customerName="+encodeURIComponent(i));var s=e+"&customerName="+encodeURIComponent(i)+"&charset=utf-8";typeof COB_USER=="object"&&(s=COB_USER.makeCobUrl(s)),customerInteraction.dProaChat(s),setCookie("state",STATE_ACCEPTED,config.sessionTime),validTo=0,hideOffer()}}else customerInteraction.dError(localeStrings.errorHeader,localeStrings[42002],"No chat offer received")}function decreaseOfferTime(){"use strict";validTo-=1,validTo<=0?hideOffer():(LOG.debug("decreaseOfferTime for offer: "+offer.offerId+" validTo="+validTo),updateText(offer.offerId+".validText",formatDelay(validTo)),setTimeout("decreaseOfferTime()",1e3))}function collect(e){"use strict";var t;LOG.info("collect callback, state="+e.state);if(e.state==="qualified"){LOG.debug("Got offer:"),LOG.debug("    Id:"+e.offerId),LOG.debug("    Media:"+e.media),LOG.debug("    Pause:"+e.pause),LOG.debug("    Num offers:"+e.offers.length),LOG.debug("    Est Q:"+e.offers[0].estQueueTime),LOG.debug("    Link:"+e.offers[0].link),LOG.debug("    Valid:"+e.offers[0].validFor),offer=e;for(t in offer.offers)offer.offers.hasOwnProperty(t)&&(LOG.debug("Element value is "+offer.offers[t].media+"!"),offer.offers[t].media==="chat"&&offer.offers[t].validFor>0&&(validTo=offer.offers[t].validFor),offer.offers[t].media==="custom"&&offer.offers[t].validFor>0&&(LOG.debug("Here"),validTo=offer.offers[t].validFor),offer.offers[t].media==="callback"&&offer.offers[t].validFor&&(validTo=offer.offers[t].validFor));offerMarkupInPlace(offer)&&(setTimeout("decreaseOfferTime()","1000"),LOG.info("Delaying offer with (ms):"+e.pause*1e3),setTimeout("showOffer()",e.pause*1e3))}}function accept(e){"use strict";LOG.info("Received response from accept call from server"),LOG.info("Result: "+e.result),LOG.info("Media: "+e.media);if(e.result==="ok")offer.offers[0].media==="callback"&&customerInteraction.dSuccess(localeStrings.callbackSuccessHeader,localeStrings.callbackSuccessMsg),setCookie("state",STATE_ACCEPTED,config.sessionTime);else{var t,n;e.reason!==undefined?t=e.reason:t="Unknown reason",e.info!==undefined?n=e.info:n="No info",LOG.error("Error on accept result="+e.result+"\nError Code: "+e.errorCode+"\nError Info: "+e.errorInfo),customerInteraction.dError(localeStrings.errorHeader,localeStrings[e.errorCode],e.errorInfo)}}function addCallback(e){"use strict";LOG.info("Received response from addCallback call from server");if(e.result==="ok")customerInteraction.dSuccess(localeStrings.callbackSuccessHeader,localeStrings.callbackSuccessMsg),LOG.info("addCallback success"),setCookie("state",STATE_ACCEPTED,config.sessionTime);else{var t,n;e.reason!==undefined?t=e.reason:t="Unknown reason",e.info!==undefined?n=e.info:n="No info",LOG.error("Error on addCallback result="+e.result+"\nError Code: "+e.errorCode+"\nError Info: "+e.errorInfo),customerInteraction.dError(localeStrings.errorHeader,localeStrings[e.errorCode],e.errorInfo)}}function decline(e){"use strict";LOG.debug("Decline response"+e.result),e.result==="error"&&(LOG.error("Error on decline result="+e.result+"\nError Code: "+e.errorCode+"\nError Info: "+e.errorInfo),customerInteraction.dError(localeStrings.errorHeader,localeStrings[e.errorCode],e.errorInfo))}function log(e){"use strict";e.result==="ok"?LOG.local(": Logging to server completed"):e.result==="error"&&LOG.local(" Error on log result="+e.result+"\nError Code: "+e.errorCode+"\nError Info: "+e.errorInfo)}function alarm(e){"use strict";e.result==="ok"?(LOG.local(": Alarm sent to server ok"),console.log("Alarm sent to server  - callback returned ok")):e.result==="error"&&(console.log("Alarm sent to server  - callback returned nok"),console.log(" Error on alarm result="+e.result+"\nError Code: "+e.errorCode+"\nError Info: "+e.errorInfo),LOG.local(" Error on alarm result="+e.result+"\nError Code: "+e.errorCode+"\nError Info: "+e.errorInfo))}function error(e){"use strict";LOG.error("Error callback called from webservice="+e.result+"\nError Code: "+e.errorCode+"\nError Info: "+e.errorInfo)}function saveLocaleStrings(e){"use strict";localeStrings=e}function browserLang(e){"use strict";var t="";typeof LANGUAGE!="undefined"?config.languages[LANGUAGE]==="1"?(LOG.debug("Using language provide by site,("+LANGUAGE+")"),t=LANGUAGE):LOG.debug("Site language,("+LANGUAGE+"), not among configurated languages"):LOG.debug("No language provided by site");if(t.length===0){var n=e.lang.toLowerCase(),r=n.substr(0,2);config.languages[r]==="1"?(LOG.debug("Using language provided by navigator,("+r+")"),t=r):LOG.debug("Language provided by browser,("+r+"), not among configurated languages defaulting to "+config.defaultLanguage)}t.length===0&&(t=config.defaultLanguage),LOG.info("Language negotiation completed. Languege to be used is: "+t),setCookie("lang",t,config.sessionTime),callWS(config.localeUrl+"/strings_"+t+".json?")}function getCookie(e){"use strict";return $.cookie(e)}function setCookie(e,t,n){"use strict";var r=new Date;r.setTime(r.getTime()+n*60*1e3),$.cookie(e,t,{expires:r})}function displayError(e,t,n){"use strict";$("#error").dialog({autoOpen:!1,show:"blind",hide:"explode"}),$("#error").dialog("option","title",e),$("#error").html(t+"<br/><strong>Error info:</strong></br>"+n),$("#error").dialog("open")}function displaySuccess(e,t){"use strict";$("#success").dialog({autoOpen:!1,show:"blind",hide:"explode"}),$("#success").dialog("option","title",e),$("#success").html(t),$("#success").dialog("open")}function callWS(e){"use strict";$.getJSON(e+"&callback=?")}function showOffer2(e){"use strict";$("#"+e).attr("data-is-dialog")==="1"?$("#"+e).dialog({autoOpen:!0,show:"blind",hide:"explode",buttons:{},width:$("#"+e).width(),height:$("#"+e).height()}):$("#"+e).show(),LOG.info("Got offer - looking for: #"+e)}function showOffer(){"use strict";LOG.debug("Got offer - looking for: #"+offer.offerId),$("#"+offer.offerId).attr("data-is-dialog")==="1"?$("#"+offer.offerId).dialog({autoOpen:!0,show:"blind",hide:"explode",buttons:{},width:$("#"+offer.offerId).width(),height:$("#"+offer.offerId).height()}):$("#"+offer.offerId).show(),LOG.trace("Got offer - looking for: #"+offer.offerId)}function fixDot(e){"use strict";var t=e.replace(/\./g,"\\.");return t.replace(/\:/g,"\\:")}function getFormValue(e){"use strict";return LOG.trace("retrieving valuye for "+e),$("#"+fixDot(e)).val()}function updateText(e,t){"use strict";LOG.trace("Updating text"),$("#"+fixDot(e)).text(t)}function getUrlParam(e){"use strict";return $.urlParam(e,window.location.href)}function getUrlParam2(e,t){"use strict";return $.urlParam(e,t)}function hideOffer(){"use strict";var e;LOG.trace("Hiding offer - looking for: "+offer.offerId),$("#"+offer.offerId).attr("data-is-dialog")==="1"?$("#"+offer.offerId).is(":visible")&&$("#"+offer.offerId).dialog("close"):$("#"+offer.offerId).hide()}function offerMarkupInPlace(e){"use strict";var t;t=$("#"+e.offerId);if(t.length===0)return LOG.error("pwe_offer_id_not_exist: "+e.offerId),LOG.alarm("pwe_offer_id_not_exist",""),!1;LOG.debug("Validated offer: "+e.offerId);if(e.media==="callback"){t=$("#"+e.offerId+".phoneNumber");if(t.length===0)return LOG.error("pwe_offer_id_wrong_typeMissing: "+e.offerId+".phoneNumber"),LOG.alarm("pwe_offer_id_wrong_type","Missing: "+e.offerId+".phoneNumber",""),!1}if(e.media==="chat"){t=$("#"+e.offerId+".chatName");if(t.length===0)return LOG.error("pwe_offer_id_wrong_typeMissing: "+e.offerId+".chatName"),LOG.alarm("pwe_offer_id_wrong_type","Missing: "+e.offerId+".chatName",""),!1}return!0}var STATE_UNQUALIFIED,STATE_QUALIFIED,STATE_IN_CHAT_QUEUE,STATE_IN_CALLBACK_QUEUE,STATE_IN_REJECT,STATE_ACCEPTED,DEBUG,offer,validTo,uid,localeStrings,logCnt=0;STATE_UNQUALIFIED=1,STATE_QUALIFIED=2,STATE_IN_CHAT_QUEUE=3,STATE_IN_CALLBACK_QUEUE=4,STATE_IN_REJECT=5,STATE_ACCEPTED=6,validTo=-1;var queueUpdater,LEVEL={LOCAL:{value:-1,description:"LOCAL"},TRACE:{value:0,description:"TRACE"},DEBUG:{value:1,description:"DEBUG"},INFO:{value:2,description:"INFO"},ERROR:{value:3,description:"ERROR"}},LOG;LOG={level:LEVEL.TRACE,logDate:function(){"use strict";return(new Date).toUTCString()},local:function(e){"use strict";this.level.value<=LEVEL.LOCAL.value&&console.log(this.logDate()+": "+LEVEL.LOCAL.description+": "+e,"debug")},trace:function(e){"use strict";this.level.value<=LEVEL.TRACE.value&&this.log(this.logDate()+": "+LEVEL.TRACE.description+": "+e,"debug")},debug:function(e){"use strict";this.level.value<=LEVEL.DEBUG.value&&this.log(this.logDate()+": "+LEVEL.DEBUG.description+": "+e,"debug")},info:function(e){"use strict";this.level.value<=LEVEL.INFO.value&&this.log(this.logDate()+": "+LEVEL.INFO.description+": "+e,"debug")},error:function(e){"use strict";this.level.value<=LEVEL.ERROR.value&&this.log(this.logDate()+": "+LEVEL.ERROR.description+": "+e,"error")},log:function(e,t){"use strict";console.log(e);var n=buildWSUrl("log")+"&message="+encodeURIComponent(e)+"&logLevel="+t;logCnt+=1,logCnt<200&&callWS(n)},alarm:function(e,t){"use strict";console.log("in alarm cnt="+logCnt),logCnt+=1;var n=buildWSUrl("alarm")+"&alarmName="+e+"&infoParam1="+offer.offerId+"&infoParam2="+encodeURIComponent(t);this.log("Sending alarm to: "+n),logCnt<200&&callWS(n)}};var customerInteraction;customerInteraction={dError:function(){},dSuccess:function(){},dProaChat:function(e){"use strict";window.open(e,"chatWindow","width=982, height=802,resizable=0")},dCommonChat:function(e){"use strict";window.open(e,"chatWindow","width=982, height=802,resizable=0")}},$(function(){"use strict";init()});
LOG.log=function(e,t){"use strict";if(typeof console !== 'undefined' && typeof console.log !== 'undefined'){console.log(e);}};


